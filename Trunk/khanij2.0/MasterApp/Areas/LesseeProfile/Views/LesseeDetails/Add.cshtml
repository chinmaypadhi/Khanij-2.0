@*// *********************************************************************************************************
    //  View Name                : Add
    //  Desciption               : To Save and Update, Forward to DD, Delete Lesee Details
    //  Created By               : Lingaraj Dalai
    //  Created On               : 01 July 2021
    // ********************************************************************************************************
*@
@model MasterEF.LesseeInfoModel;
@using MasterEF;
@using MasterApp.Web;
@using Microsoft.AspNetCore.Mvc;
@using  Microsoft.AspNetCore.Http;
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewData["Title"] = "Add";
    Layout = "~/Views/Shared/_CMSLayout.cshtml";
    UserLoginSession profile = HttpContextAccessor.HttpContext.Session.Get<UserLoginSession>(KeyHelper.UserKey);
    //profile.MineralTypeName = "Major Mineral";
    //profile.MineralName = "NON COAL";
}

@if (TempData["msg"] != null)
{
    <script>
        swal("",'@TempData["msg"]',"success");
    </script>
}
<style>
    .disable {
        /*cursor: not-allowed;*/
        opacity: 0.4;
        cursor: default;
        pointer-events: none;
    }

    .progresstab li {
        min-width: 150px;
    }
</style>
<script>
    indicateMe = "yes"
    backMe = "yes"
    $(document).ready(function () {
        var mineraltypename = '@profile.MineralTypeName';
        var mineralname = '@profile.MineralName';
        $('.searchableselect').searchableselect();
        loadNavigation('Add', 'glUIS', 'pllesseprof', 'tl', 'Lessee Profile', 'Lesse Details', ' ');
        $('.datepicker').datetimepicker({
            format: 'LT',
            format: 'DD-MMM-YYYY',
            daysOfWeekDisabled: [],
            widgetPositioning: {
                horizontal: 'auto',
                vertical: 'bottom'
            }
        }).keydown(false);
        if ($("#hdnAPPLICATION_TYPE_ID").val() != "") {
            $("#ddlLesseeType").val($("#hdnAPPLICATION_TYPE_ID").val());
        }
        if ($("#WBInstalled").val() != "0")
            onChangeWBExemption();
        if ($("#hdnWBStampDate").val() != "")
            $("#inputStampingDate").val($("#hdnWBStampDate").val());
        if ($("#hdnOrderDate").val() != "")
            $("#inputOrderDate").val($("#hdnOrderDate").val());
        if ($("#hdnWBValidUpto").val() != "")
            $("#inputValidUpto").val($("#hdnWBValidUpto").val());
        if ($("#hdnDATE_OF_TRANSFER").val() != "")
            $("#inputTransferDate").val($("#hdnDATE_OF_TRANSFER").val());
        if ($("#hdnAPPLICATION_FEES_DATE").val() != "")
            $("#inputAppFeesDate").val($("#hdnAPPLICATION_FEES_DATE").val());
        if ($("#hdnCHALLAN_DD_AMOUNT_DATE").val() != "")
            $("#inputDDDate").val($("#hdnCHALLAN_DD_AMOUNT_DATE").val());
        if ($("#hdnBANK_GUARRANTEE_DATE").val() != "")
            $("#inputBankGuranteeDate").val($("#hdnBANK_GUARRANTEE_DATE").val());
        if ($("#hdnSURITY_BOND_DATE").val() != "")
            $("#inputBondDate").val($("#hdnSURITY_BOND_DATE").val());
        if ($("#hdnBG_ValidityUpto").val() != "")
            $("#inputBGValidityUpto").val($("#hdnBG_ValidityUpto").val());
        if ($("#LeasePurpose").val() != "0")
            onChangeLease();
        CessRoyaltyChange();
        if ($("#AuctionTypeId").val() != "0") {
            onChangeAuction();
        }
        paymentModeChange();
        StorageCrusherChange();
        CrusherInstalledChange();
        //For Disabling all DOM if  is  Forwarded to DD/DMO and Approval is Pending
        if (@Model.STATUS != null && @Model.STATUS != "") {
            if (@Model.STATUS == 1) {
                $('.btnsave').hide();
                $('.form-control').css("pointer-events", "none");
                $('.custom-radio').css("pointer-events", "none");
            }
        }
        else {
            $('.btnsave').show();
        }
        /*Show hide controls for Minor/Major-Coal,NonCoal*/
        if (mineraltypename == "Minor Mineral") {
            $('.divEI').hide();/*Field E&I Cess*/
            $("#step5").hide();
            $('.divLabEstablished').hide();
            $('.divMajor').hide();
        }
        else {
            $('.divMinor').hide();
            if (mineralname != "COAL") {
                $('.divEI').hide();/*Field E&I Cess*/
            }
        }

        /****************** FILE UPLOAD ********************************/
        $('input[type="file"]').bind('change', function () {
            $("input[type='Submit']").attr('disabled', false);
            $("input[name='cmd']").attr('disabled', false);
            filesize = this.files[0].size;
            var val = $(this).val().toLowerCase(),
                regex = new RegExp("(.*?)\.(jpeg|jpg|pdf)$");
            if (!(regex.test(val))) {
                swal("", ".docx, tif,xls  type is not an allowed file type. You can use only pdf, jpg, jpeg types of file(s). ", "warning");
                this.value = '';
                $("input[type='Submit']").attr('disabled', true);
                $("input[name='cmd']").attr('disabled', true);
                return false;
            }
            else if (filesize > 2048000) {
                swal("", "File size must be 2 MB !", "warning");
                $("input[type='Submit']").attr('disabled', true);
                $("input[name='cmd']").attr('disabled', true);
                return false;
            }
            else {
                var fileName = $(this).val().split("\\").pop();
                $(this).next('.custom-file-label').html(fileName);
            }
            return false;
        });
        /******************************************************************/
        //--------------
        if ($('#hfStateId').val() != "") {
            $('#ddlState').val($('#hfStateId').val());
            BindDistrictData();
        }
        //--------------
        if ($('#hfUserTypeId').val() != "") {
            $('#CaptiveUserId').val($('#hfUserTypeId').val());
            BindUserData();
        }
        //---------------
        $('#ddlState').change(function () {
            debugger;
            alert(1);
            BindDistrictData();
            BindUserData();
        });
        //---------------
        $('#ddlUserType').change(function () {
            debugger;
            BindUserData();
        });
        if (@ViewBag.Captive.Count== 0) {
            $("#CaptiveTable").hide();
        }
    });
    /*Bind District details*/
    //function BindDistrictData(e) {
    //    var StateId = document.getElementById('MiningPlanTable').children[1].children[e].children[1].getElementsByTagName('select')[0].value;
    //    debugger;
    //    if (StateId != null) {
    //        $.ajax({
    //            url: '/LesseeProfile/LesseeDetails/GetDistrictdetailsByRegionId',
    //            data: { 'StateId': StateId },
    //            dataType: 'json',
    //            type: 'post',
    //            success: function (data) {
    //                debugger;
    //                document.getElementById('MiningPlanTable').children[1].children[e].children[2].innerHTML = "";
    //                var row = "<select class='form-control' id='DistrictID' name='DistrictId'><option value=''>Select</option>";
    //                $.each(data, function (ind, item) {
    //                    row+="<option value='" + item.districtId + "'>" + item.districtName + "</option>";
    //                });
    //                row += "</select>";
    //                document.getElementById('MiningPlanTable').children[1].children[e].children[2].innerHTML = row;;
    //            },
    //            error: function (err) {
    //            }
    //        });
    //    }
    //    else {
    //        $('#DistrictID').html('');
    //        $('#DistrictID').append("<option value=''>Select</option>");
    //    }
    //}
    function BindDistrictData() {
        debugger;
        if ($('#ddlState').val() != "") {
            $.ajax({
                url: '/LesseeProfile/LesseeDetails/GetDistrictdetailsByRegionId',
                data: { 'StateId': $('#ddlState').val() },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    debugger;
                    var row = "";
                    $('#DistrictID').html('');
                    row += "<option value=''>Select</option>";
                    $.each(data, function (ind, item) {
                        row += "<option value='" + item.districtId + "'>" + item.districtName + "</option>";
                    });
                    $('#DistrictID').html(row);
                    //if ($("#hfLeaseLandDistrictId").val() != "") {
                    //    $("#DistrictID").val($("#hfLeaseLandDistrictId").val());
                    //}
                    if ($('#DistrictID').val() == null) {
                        $('#DistrictID').html('');
                        $('#DistrictID').append("<option value=''>Select</option>");
                        $.each(data, function (ind, item) {
                            $('#DistrictID').append("<option value='" + item.districtId + "'>" + item.districtName + "</option>");
                        });
                    }
                },
                error: function (err) {
                }
            });
        }
        else {
            var row = "";
            $('#DistrictID').html('');
            row += "<option value=''>Select</option>";
            $('#DistrictID').html(row);
        }
    }
    /*Bind User details*/
    //function BindUserData(e,e1,e2) {
    //    debugger;
    //    var StateId = document.getElementById('MiningPlanTable').children[1].children[e].children[1].getElementsByTagName('select')[0].value;
    //    alert(StateId);
    //    var DistrictId = document.getElementById('MiningPlanTable').children[2].children[e1].children[2].getElementsByTagName('select')[0].value;
    //    alert(DistrictId);
    //    var UserTypeId = document.getElementById('MiningPlanTable').children[2].children[e2].children[3].getElementsByTagName('select')[0].value;
    //      alert(UserTypeId);
    //    if ($('#UserTypeId').val() != "" && $('#DistrictID').val() != "" && $('#ddlState').val() != "") {
    //        $.ajax({
    //            url: '/LesseeProfile/LesseeDetails/GetUserdetailsByUsertypeId',
    //            data: { 'UserTypeId': UserTypeId, 'StateId': StateId, 'DistrictId': DistrictId },
    //            dataType: 'json',
    //            type: 'post',
    //            success: function (data) {
    //                debugger;
    //                //$('#CaptiveUserId').html('');
    //                //$('#CaptiveUserId').append("<option value=''>Select</option>");
    //                //$.each(data, function (ind, item) {
    //                //    $('#CaptiveUserId').append("<option value='" + item.captiveUserId + "'>" + item.captiveUserName + "</option>");
    //                //});
    //                //if ($('#CaptiveUserId').val() == null) {
    //                //    $('#CaptiveUserId').html('');
    //                //    $('#CaptiveUserId').append("<option value=''>Select</option>");
    //                //    $.each(data, function (ind, item) {
    //                //        $('#CaptiveUserId').append("<option value='" + item.captiveUserId + "'>" + item.captiveUserName + "</option>");
    //                //    });
    //                //}
    //                document.getElementById('MiningPlanTable').children[1].children[e].children[4].innerHTML = "";
    //                var row = "<select class='form-control' id='captiveUserId' name='CaptiveUserId'><option value=''>Select</option>";
    //                $.each(data, function (ind, item) {
    //                    row += "<option value='" + item.captiveUserId + "'>" + item.captiveUserName + "</option>";
    //                });
    //                row += "</select>";
    //                document.getElementById('MiningPlanTable').children[1].children[e].children[4].innerHTML = row;;
    //            },
    //            error: function (err) {
    //            }
    //        });
    //    }
    //    else {
    //        $('#CaptiveUserId').html('');
    //        $('#CaptiveUserId').append("<option value=''>Select</option>");
    //    }
    //}
     function BindUserData() {
        debugger;
        if ($('#UserTypeId').val() != "" && $('#DistrictID').val() != "" && $('#ddlState').val() != "") {
            $.ajax({
                url: '/LesseeProfile/LesseeDetails/GetUserdetailsByUsertypeId',
                data: { 'UserTypeId': $('#ddlUserType').val(), 'StateId': $('#ddlState').val(), 'DistrictId': $('#DistrictID').val() },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    debugger;
                    $('#CaptiveUserId').html('');
                    $('#CaptiveUserId').append("<option value=''>Select</option>");
                    $.each(data, function (ind, item) {
                        $('#CaptiveUserId').append("<option value='" + item.captiveUserId + "'>" + item.captiveUserName + "</option>");
                    });
                    if ($('#CaptiveUserId').val() == null) {
                        $('#CaptiveUserId').html('');
                        $('#CaptiveUserId').append("<option value=''>Select</option>");
                        $.each(data, function (ind, item) {
                            $('#CaptiveUserId').append("<option value='" + item.captiveUserId + "'>" + item.captiveUserName + "</option>");
                        });
                    }
                },
                error: function (err) {
                }
            });
        }
        else {
            $('#CaptiveUserId').html('');
            $('#CaptiveUserId').append("<option value=''>Select</option>");
        }
    }
    //-------Add Row-------------//
    function addRow() {
        if (!DropDownValidation("ddlState", "State")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("DistrictID", "District")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("ddlUserType", "UserType")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("CaptiveUserId", "User")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        //for (var i = 0; i < document.getElementById('CaptiveTable').children[1].children.length; i++) {
        //    debugger;
        //    alert(document.getElementById('CaptiveTable').children[i + 1].children[i].children[1].getElementsByTagName("input")[0].value);
        //    alert(document.getElementById('CaptiveTable').children[i + 1].children[i].children[2].getElementsByTagName("input")[0].value);
        //    alert(document.getElementById('CaptiveTable').children[i + 1].children[i].children[3].getElementsByTagName("input")[0].value);
        //    alert(document.getElementById('CaptiveTable').children[i + 1].children[i].children[4].getElementsByTagName("input")[0].value);
        //    if (document.getElementById('CaptiveTable').children[1].children[i].children[1].getElementsByTagName("input")[0].value == $("#ddlState").val() && document.getElementById('CaptiveTable').children[1].children[i].children[2].getElementsByTagName("input")[0].value == $("#DistrictID").val() && document.getElementById('CaptiveTable').children[1].children[i].children[3].getElementsByTagName("input")[0].value == $("#ddlUserType").val() && document.getElementById('CaptiveTable').children[1].children[i].children[3].getElementsByTagName("input")[0].value == $("#CaptiveUserId").val()) {
        //        swal("", "Data already exists", "warning");
        //        return false;
        //    }
        //}
        //var operator = $("[id*=ddlState]").val();
        //var value1 = $("[id*= DistrictID]").val();
        //var value2 = $("[id*= ddlUserType]").val();
        //var total = $("[id*= CaptiveUserId]").val();
        //var gridRows = $("[id *= CaptiveTable] tr")
        //var isExist = false;
        //gridRows.each(function () {
        //    debugger;
        //    if ($("td:nth-child(1)", $(this)).html() == operator && $("td:nth-child(2)", $(this)).html() == value1 && $("td:nth-child(3)", $(this)).html() == value2 && $("td:nth-child(4)", $(this)).html() == total) {
        //        isExist = true;
        //    }
        //});
        debugger;
        $("#CaptiveTable").show();
        $('#CaptiveTable tbody').append('<tr><td>' + Number($('#CaptiveTable tbody tr').length + 1) + '</td>' +
            '<td><input type="hidden" id="hfStateId" name="State_Id" value="' + $("#ddlState").val() + '"/>' + $("#ddlState option:selected").text() + '</td>' +
            '<td><input type="hidden" id="hfDistrictId" name="District_Id" value="' + $("#DistrictID").val() + '"/>' + $("#DistrictID option:selected").text() + '</td>' +
            '<td><input type="hidden" id="hfUserTypeId" name="UserType_Id" value="' + $("#ddlUserType").val() + '"/>' + $("#ddlUserType option:selected").text() + '</td>' +
            '<td><input type="hidden" id="hfCaptiveUserId" name="CaptiveUser_Id" value="' + $("#CaptiveUserId").val() + '"/>' + $("#CaptiveUserId option:selected").text() + '</td>' +
            '<td><a class="btn btn-danger btn-sm delete" data-toggle="tooltip" data-placement="top" title="Remove Row"><i class="icon-trash-alt-solid"></i></a></td>');
        $("#ddlState").val("");
        $("#ddlUserType").val("");
        BindDistrictData();
        BindUserData();
    }
    var YearsList = document.getElementsByName("StateId")
    for (var i = 0; i <= YearsList.length; i++) {
        this.addEventListener("change", function (e) {
            var CurrentSelectedValue = e.target.value;
            var Count = 0;
            for (var i = 0; i < YearsList.length; i++) {
                if (CurrentSelectedValue == YearsList[i].value) {
                    Count = Count + 1;
                }
                else {
                    $('.btnsave').show();
                }
                if (Count == 2) {
                    swal("", 'Same state ' + YearsList[i].text + ' already existed', "warning");
                    Count = 1;
                    YearsList[i].value = '--select--';
                    $('.btnsave').hide();
                    break;
                    e.preventDefault();
                }
                else {
                    $('.btnsave').show();
                }
            }
        });
        break;
    }
    function BindProdData() {
        var vv = 0;
        $("#MiningPlanTable").find('tr').each(function (i, el) {
            if (i == 0) { }
            else {
                var $tds = $(this).find('td');
                var abcd = "YEARS" + vv;
                var units = "Units" + vv;
                vv = vv + 1;
                var data = $tds.eq(3).text().trim();
                document.getElementById(abcd).value = data;
            }
        });
    }
    var totalRowsCount = 1;
    var _flag = 0;
    //function addRow(tableID) {
    //    if (totalRowsCount < 10) {
    //        var table = document.getElementById(tableID);
    //        var rowCount = table.rows.length;
    //        var row = table.insertRow(rowCount);
    //        var colCount = table.rows[1].cells.length;
    //        for (var i = 0; i < colCount; i++) {
    //            if (i == colCount - 1) { }
    //            else {
    //                var newcell = row.insertCell(i);
    //                if (i == 0) {
    //                    newcell.innerHTML = rowCount;
    //                }
    //                else {
    //                    newcell.innerHTML = table.rows[1].cells[i].innerHTML;
    //                }
    //                switch (newcell.childNodes[0].type) {
    //                    case "text":
    //                        newcell.childNodes[0].value = "";
    //                        break;
    //                    case "checkbox":
    //                        newcell.childNodes[0].checked = false;
    //                        break;
    //                    case "select-one":
    //                        newcell.childNodes[0].selectedIndex = 0;
    //                        break;
    //                }
    //            }
    //        }
    //        totalRowsCount = totalRowsCount + 1;
    //    }
    //}
    var rws;
    function myFunction() {
        var table = document.getElementById("MiningPlanTable");
        var row = table.insertRow(0);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        cell1.innerHTML = "NEW CELL1";
        cell2.innerHTML = "NEW CELL2";
    }
    function ValidatePurpose() {
        var Iss = false;
        if (!DropDownValidation("ddlState", "State")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("DistrictID", "District")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("ddlUserType", "UserType")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("CaptiveUserId", "User")) {
            $('#Purpose-tab').trigger('click');
            return false;
        }
        Iss = true;
        return Iss;
    }
        //-------Remove Row-------------//
    $(document).on("click", '.delete', function () {
        $(this).parents('tr').remove();
        $('#CaptiveTable tbody tr').each(function (i) {
            $($(this).find('td')[0]).html(i + 1);
        });
        if ($('#CaptiveTable tbody tr').length == 0) {
            $("#CaptiveTable").hide();
        }
    });
</script>
<script>
    function Validate() {
        var mineraltypename = '@profile.MineralTypeName';
        var MineralName = '@profile.MineralName';
        var Iss = false;
        if (!blankFieldValidation("RECONNAISSANCE_LICENSE_NAME", "Lease Name")) {
            $('#Lease-tab').trigger('click');
            return false;
        }
        if (!blankFieldValidation("MINE_CODE", "Mine Code")) {
            $('#Lease-tab').trigger('click');
            return false;
        }
        if (!blankFieldValidation("RECONNAISSANCE_LICENSE_ADDRESS", "Lease Address")) {
            $('#Lease-tab').trigger('click');
            return false;
        }
        if (!DropDownValidation("WBInstalled", "WB Installed")) {
            $('#Lease-tab').trigger('click');
            return false;
        }
        if (mineraltypename != "Minor Mineral") {
            if (!DropDownValidation("LabEstablished", "Lab Established")) {
                $('#Lease-tab').trigger('click');
                return false;
            }
        }
        if (!DropDownValidation("AuctionTypeId", "Application Type")) {
            $('#Lease-tab').trigger('click');
            return false;
        }
        if ($("#AuctionTypeId").val() == 2) {
            if (!checkInput("PaymentModeType", "Payment Mode")) {
                $('#Fees-tab').trigger('click');
                return false;
            }
            if ($("input[name='PaymentModeType']:checked").val() == "DD") {
                if (!blankFieldValidation("AmountOfDD", "DD Amount")) {
                    $('#Fees-tab').trigger('click');
                    return false;
                }
            }
        }
        if (!blankFieldValidation("TillDateDispatchQty", "Till Date Dispatch Quantity")) {
            $('#Fees-tab').trigger('click');
            return false;
        }
        if (!blankFieldValidation("NAME_OF_TRANSFEREE", "Tranfseree Name")) {
            $('#Transfer-tab').trigger('click');
            return false;
        }
        if (!blankFieldValidation("ADDRESS_OF_TRANSFEREE", "Tranfseree Address")) {
            $('#Transfer-tab').trigger('click');
            return false;
        }
        if (mineraltypename != "Minor Mineral") {
            if (!DropDownValidation("LeasePurpose", "Lease Purpose")) {
                $('#Purpose-tab').trigger('click');
                return false;
            }
        }
        Iss = true;
        return Iss;
    }
    var WBExemptionfilesize = 0, LabExemptionfilesize = 0;
    $('input[name="WBExemption_Upload"]').bind('change', function () {
        WBExemptionfilesize = this.files[0].size;
        return false;
    });
    $('input[name="LabExemption_Upload"]').bind('change', function () {
        LabExemptionfilesize = this.files[0].size;
        return false;
    });
    function onChangeWBExemption() {
        WBExemptionfilesize = 0; LabExemptionfilesize = 0;
        HideshowWbAndLabUpload();
        $('#WbFile').hide();
        $('input[name="WBExemption_Upload"]').bind('change', function () {
            WBExemptionfilesize = this.files[0].size;
            return false;
        });
        $('#labFile').hide();
        $('input[name="LabExemption_Upload"]').bind('change', function () {
            LabExemptionfilesize = this.files[0].size;
            return false;
        });
    }
    function HideshowWbAndLabUpload() {
        if ($("#WBInstalled option:selected").text().toString().toUpperCase() == "YES") {
            $("#lblWBUpload").text("Upload Stamping Certificate");
            $(".DivWBExemption").css("display", "block");
            $(".DivWBUpload").css("display", "block");
        }
        else if ($("#WBInstalled option:selected").text().toString().toUpperCase() == "NO") {
            $("#lblWBUpload").text("Order copy of WB Exemption");
            $(".DivWBExemption").css("display", "none");
            $(".DivWBUpload").css("display", "block");
        }
        else {
            $(".DivWBExemption").css("display", "none");
            $(".DivWBUpload").css("display", "none");
        }
        if ('@profile.MineralTypeName' != "Minor Mineral") {
            if ($("#LabEstablished option:selected").text().toString().toUpperCase() == "YES") {
                $("#lblLabUpload").text("Upload copy of Inspection report by Officials(RH, DGM)");
                $("#DivLabExemption").css("display", "block");
            }
            else if ($("#LabEstablished option:selected").text().toString().toUpperCase() == "NO") {
                $("#lblLabUpload").text("Upload order copy of exemption by DGM/MRD");
                $("#DivLabExemption").css("display", "block");
            }
            else {
                $("#DivLabExemption").css("display", "none");
            }
        }
    }
    function StorageCrusherChange(e) {
        if ($("input[name='StorageCrusher']:checked").val() == "Yes") {
            $("#CrusherInstalledDiv").show();
        }
        else {
            $("#CrusherInstalledDiv").hide();
            $("#LicenseStorageCopy").hide();
        }
    }
    function CrusherInstalledChange(e) {
        if ($("input[name='CrusherInstalled']:checked").val() == "Yes") {
            $("#LicenseStorageCopy").hide();
        }
        else {
            $("#LicenseStorageCopy").show();
        }
    }
    function CountAddress() {
        $("#lblMaxAddress").text(500 - (document.getElementById("RECONNAISSANCE_LICENSE_ADDRESS").value.length));
        $("#lblRemarks").text(500 - (document.getElementById("Remarks").value.length));
        $("#lblTransfereeAddress").text(500 - (document.getElementById("ADDRESS_OF_TRANSFEREE").value.length));
    }
    function onChangeAuction(e) {
        var mineralname = '@profile.MineralName';
        var mineraltypename = '@profile.MineralTypeName';
        if ($("#AuctionTypeId").val() == "2") {
            if (mineraltypename == "Major Mineral" && mineralname == "COAL") {
                // With Auction Major Coal
                $("#divAuctionDiv").show();
                $("#divPaymentMode").show();
                $('#divBidPremium').show();
            }
            else if (mineraltypename == "Major Mineral" && mineralname != "COAL") {
                // With Auction Major Non Coal
                $("#divPaymentMode").show();
                $('#divBidPremium').show();
            }
            else {
                 // With Auction Minor
                $("#divAuctionDiv").show();
                $("#divPaymentMode").show();
            }
        }
        else if ($("#AuctionTypeId").val() == "1") {
            // Without Auction
            $("#divAuctionDiv").hide();
            $("#divPaymentMode").hide();
            $('#divBidPremium').hide();
        }
        else {
            // Not Cash
            $('#divAuctionDiv').hide();
            $('#divBidPremium').hide();
        }
    }
    function CessRoyaltyChange(e) {
        var mineralname = '@profile.MineralName';
        if ($("input[name='AdjustCess']:checked").val() == "Yes" && mineralname == "COAL") {
            $(".DivCessRoyalty").show();
        }
        else {
            $(".DivCessRoyalty").hide();
        }
    }
    function onChangeLease() {
        if ($('#LeasePurpose').val() == "1") {
            $(".Divcaptive").show();
        }
        else {
            $(".Divcaptive").hide();
        }
    }
    function paymentModeChange(e) {
        if ($("input[name='PaymentModeType']:checked").val() == "BG") {
            $("#DDDiv").hide();
            $("#CopyofDD").hide();
            $("#BGDiv").show();
            $("#CopyofPerformanceSecurity").show();
        }
        else {
            $("#BGDiv").hide();
            $("#CopyofPerformanceSecurity").hide();
            $("#DDDiv").show();
            $("#CopyofDD").show();
        }
        $("#CopyOfPerformanceDiv").show();
    }
    var specialKeys = new Array();
    specialKeys.push(8); //Backspace
    function numericdotOnly(elementRef) {
        var keyCodeEntered = (event.which) ? event.which : (window.event.keyCode) ? window.event.keyCode : -1;
        if ((keyCodeEntered >= 48) && (keyCodeEntered <= 57)) {
            return true;
        }
        // '.' decimal point...
        else if (keyCodeEntered == 46) {
            // Allow only 1 decimal point ('.')...
            if ((elementRef.value) && (elementRef.value.indexOf('.') >= 0))
                return false;
            else
                return true;
        }
        return false;
    }
    function numericOnly() {
        var keycode = event.which;
        if (!(event.shiftKey == false && (keycode == 8 || keycode == 37 || keycode == 39 || (keycode >= 48 && keycode <= 57)))) {
            event.preventDefault();
            return false;
        }
    }
    function OnSave() {
        if (validateWBandLab() != false && OnAdjuestCessSelectedAdjuestCessSelected() != false) {
            return true;
        }
        else {
            return false;
        }
    }
    function OnForwarding(btnAction) {
        var result1 = OnAdjuestCessSelectedAdjuestCessSelected();
        var result = validateWBandLab(btnAction);
        if (result != false && result1 != false) {
            if (ValidateDsc(btnAction) != false) {
                return true;
            }
            else {
                return false;
            }
        }
    }
    function OnAdjuestCessSelectedAdjuestCessSelected() {
        var SelectedRadioVal1 = $("input[name='AdjustCess']:checked").val()
        if (SelectedRadioVal1 == 'Yes') {
            if ($("#OrderOf").val() == null || $("#OrderOf").val() == "") {
                swal("",'Please enter Order Of',"warning");
                return false;
            }
            if ($("#OrderNo").val() == null || $("#OrderNo").val() == "") {
                swal("", 'Please enter Order No', "warning");
                return false;
            }
            if ($("#inputOrderDate").val() == null || $("#inputOrderDate").val() == "") {
                swal('Please select Order Date', "warning");
                return false;
            }
            if ($("#OrderAttachment_Path").val() == null) {
                if (financialcopyfilesize = "0") {
                    swal('Please select Order Attachemt File Copy', "warning");
                    return false;
                }
            }
            return true;
        }
        else {
            return true;
        }

    }
    function ValidateDsc(btnAction) {
        var Type;
        if (btnAction == 'Forward To DD') {
            Type = 'forward';
        }
        if (confirm("Before " + Type + " you need to apply your Digital Signature. Are you confirmed to " + Type + " Profile??")) {
            debugger;
            var Postdata = 'action=signdoc' + "\n" + 'datatosign=Digital Signature Required' + "\n" + 'signaction=sign' + "\n" + 'filepath=' + "\n" + 'panNumberParam=' + "\n" + 'expirycheck=false' + "\n" + 'issuername=' + "\n" + 'certclass=1|2|3' + "\n" + 'certtype=ALL';
            connection.send(Postdata);
            connection.onerror = function (error) {
                swal("",'Please check the server connection: ' + error+'',"warning");
            };
            connection.onmessage = function (e) { // when DSC is success then following function executed.
                if (e.data.indexOf("subProtocol") == -1) {
                    debugger;
                    $("#DSCResponse").val(e.data).change();
                    $.ajax(
                    {
                        url: '@Url.Action("CheckVerifyResponse", "LesseeDetails", new { Area = "LesseeProfile" })',
                        type: "POST",
                        data: { contentType: "pkcs7", signDataBase64Encoded: e.data, responseType: "plain" },
                        success: function (msg) {
                            if (msg == "SUCCESS") {
                                //swal("",msg,"warning");
                                //  debugger;
                                if (btnAction == "Forward To DD") {
                                    $("#SubResion").val("Forward To DD");
                                }
                                $("#form1").submit();
                            }
                        }
                    });
                }
                else {
                    swal("",e.data,"warning");
                }
            };
        }
        else {
            return false;
        }
    }
    //following code is for DSC Signature
    try {
        var connection = new WebSocket('wss://localhost.emudhra.com:8080');
        connection.onopen = function () {
            console.log('Connection Opened');
        };
        connection.onerror = function (error) {
        };
        connection.onmessage = function (e) {
            if (e.data.indexOf("subProtocol") == -1) {
            }
        };
    }
    catch (e) {
        swal("","No DSC Connection Found","warning");
    }
    //-----------------------------
    function validateWBandLab(btnAction) {
        if ($("#WBInstalled").val() == null || $("#WBInstalled").val() == "") {
            swal("", 'Please select WB Installed', "warning");
            $(".WBInstalled").focus();
            $("#Transfer").removeClass("active");
            $("#lease").addClass("tab-pane fade in active");
            return false;
        }

        if ($("#WBInstalled option:selected").text().toString().toUpperCase() == "YES") {
            if ($("#inputStampingDate").val() == null || $("#inputStampingDate").val() == "") {
                swal("", 'Please Enter Stamping Date', "warning");
                $("#Transfer").removeClass("active");
                $("#lease").addClass("tab-pane fade in active");
                $(".WBStampDate").focus();
                return false;
            }
            else if ($("#inputValidUpto").val() == null || $("#inputValidUpto").val() == "") {
                swal("", 'Please Enter WB Valid Upto', "warning");
                $("#Transfer").removeClass("active");
                $("#lease").addClass("tab-pane fade in active");
                $(".WBValidUpto").focus();
                return false;
            }
        }
        if (btnAction == 'Forward To DD') {
            if (WBExemptionfilesize == 0 && $('#WBExemption_FILE').val() == "") {
                swal("",'Please Upload ' + $("#lblWBUpload").text()+'',"warning");
                $("#Transfer").removeClass("active");
                $("#lease").addClass("tab-pane fade in active");
                $(".WBExemption_Upload").focus();
                return false;
            }
        }
        else if (btnAction == undefined) {
            if (WBExemptionfilesize == 0 && $('#WBExemption_FILE').val() == "") {
                swal("", 'Please Upload ' + $("#lblWBUpload").text() + '', "warning");
                $("#Transfer").removeClass("active");
                $("#lease").addClass("tab-pane fade in active");
                $(".WBExemption_Upload").focus();
                return false;
            }
        }

        if ($("#LabEstablished").val() == null || $("#LabEstablished").val() == "") {
            swal("", 'Please select Lab Established', "warning");
            $("#Transfer").removeClass("active");
            $("#lease").addClass("tab-pane fade in active");
            $(".LabEstablished").focus();
            return false;
        }

        if ($("#LabEstablished option:selected").text().toString().toUpperCase() == "YES" || $("#LabEstablished option:selected").text().toString().toUpperCase() == "NO") {
            if (btnAction == 'Forward To DD') {
                if (LabExemptionfilesize == 0 && ($('#LabExemption_FILE').val() == undefined || $('#LabExemption_FILE').val() == "")) {
                    swal("", 'Please ' + $("#lblLabUpload").text() + '', "warning");
                    $("#Transfer").removeClass("active");
                    $("#lease").addClass("tab-pane fade in active");
                    return false;
                }
            }
            else if (btnAction == undefined) {
                if (LabExemptionfilesize == 0 && $('#LabExemption_FILE').val() == "") {
                    swal('Please ' + $("#lblLabUpload").text() + '', "warning");
                    $("#Transfer").removeClass("active");
                    $("#lease").addClass("tab-pane fade in active");
                    return false;
                }
            }
        }
    }
    function NextAttachments() {
        $('#Attachments').trigger('click');
        $('[href="#Attachments"]').tab('show');
        $("#Attachments").show();
        $('#lease').hide();
        $("#Fees").hide();
        $('#Transfer').hide();
        $("#Purpose").hide();
        $("#step2").addClass('active');
        $("#step1").removeClass('active');
        $("#step3").removeClass('active');
        $("#step4").removeClass('active');
        $("#step5").removeClass('active');
    }
    function NextFees() {
        $('#Fees').trigger('click');
        $('[href="#Fees"]').tab('show');
        $("#Fees").show();
        $('#lease').hide();
        $("#Purpose").hide();
        $('#Transfer').hide();
        $("#Attachments").hide();
        $("#step3").addClass('active');
        $("#step1").removeClass('active');
        $("#step2").removeClass('active');
        $("#step4").removeClass('active');
        $("#step5").removeClass('active');
    }
    function NextTransfer() {
        $('#Transfer').trigger('click');
        $('[href="#Transfer"]').tab('show');
        $("#Transfer").show();
        $('#lease').hide();
        $("#Fees").hide();
        $('#Attachments').hide();
        $("#Purpose").hide();
        $("#step4").addClass('active');
        $("#step1").removeClass('active');
        $("#step3").removeClass('active');
        $("#step5").removeClass('active');
        $("#step2").removeClass('active');
    }
    function NextPurpose() {
        $('#Purpose').trigger('click');
        $('[href="#Purpose"]').tab('show');
        $("#Purpose").show();
        $('#lease').hide();
        $("#Attachments").hide();
        $("#Fees").hide();
        $('#Transfer').hide();
        $("#step5").addClass('active');
        $("#step1").removeClass('active');
        $("#step3").removeClass('active');
        $("#step4").removeClass('active');
        $("#step2").removeClass('active');
    }
    function BackLease() {
        $('#Purpose').trigger('click');
        $('[href="#Purpose"]').tab('show');
        $('#Purpose').show();
        $("#lease").hide();
        $("#Attachments").hide();
        $('#Fees').hide();
        $("#Transfer").hide();
        $("#step5").addClass('active');
        $("#step1").removeClass('active');
        $("#step2").removeClass('active');
        $("#step3").removeClass('active');
        $("#step4").removeClass('active');
    }
    function BackPurpose() {
        $('#Transfer').trigger('click');
        $('[href="#Transfer"]').tab('show');
        $('#Transfer').show();
        $("#lease").hide();
        $("#Attachments").hide();
        $('#Fees').hide();
        $("#Purpose").hide();
        $("#step4").addClass('active');
        $("#step1").removeClass('active');
        $("#step2").removeClass('active');
        $("#step3").removeClass('active');
        $("#step5").removeClass('active');
    }
    function BackTransfer() {
        $('#Fees').trigger('click');
        $('[href="#Fees"]').tab('show');
        $('#Fees').show();
        $("#lease").hide();
        $("#Attachments").hide();
        $('#Transfer').hide();
        $("#Purpose").hide();
        $("#step3").addClass('active');
        $("#step1").removeClass('active');
        $("#step2").removeClass('active');
        $("#step4").removeClass('active');
        $("#step5").removeClass('active');
    }
    function BackFees() {
        $('#Attachments').trigger('click');
        $('[href="#Attachments"]').tab('show');
        $('#Attachments').show();
        $("#lease").hide();
        $("#Fees").hide();
        $('#Transfer').hide();
        $("#Purpose").hide();
        $("#step2").addClass('active');
        $("#step1").removeClass('active');
        $("#step3").removeClass('active');
        $("#step4").removeClass('active');
        $("#step5").removeClass('active');
    }
    function BackAttachments() {
        $('#lease').trigger('click');
        $('[href="#lease"]').tab('show');
        $('#lease').show();
        $("#Attachments").hide();
        $("#Fees").hide();
        $('#Transfer').hide();
        $("#Purpose").hide();
        $("#step1").addClass('active');
        $("#step2").removeClass('active');
        $("#step3").removeClass('active');
        $("#step4").removeClass('active');
        $("#step5").removeClass('active');
    }
</script>
<section class="wrapper main-wrapper row">
    <div class="col-12">
        <!-- MAIN CONTENT AREA STARTS -->
        @Html.Partial("_CMSnavigation")
        <div class="row">
            <div class="col-12">
                <div class="main-tab">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" href="javascript:void(0);">
                                Add
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="~/LesseeProfile/LesseeDetails/ViewList">
                                View
                            </a>
                        </li>
                    </ul>
                    @Html.Partial("_CMSutil")
                </div>
                <section class="box form-container">
                    <div class="content-body">
                        @using (Html.BeginForm("Add", "LesseeDetails", FormMethod.Post, new { AUTOCOMPLETE = "Off", id = "form1", enctype = "multipart/form-data" }))
                        {
                            @Html.AntiForgeryToken()
                            @Html.HiddenFor(model => model.CREATED_BY)
                            @Html.HiddenFor(model => model.DSCResponse)
                            @Html.HiddenFor(model => model.APPLICATION_ID)
                            @(Html.HiddenFor(model => model.SubResion))
                            @(Html.HiddenFor(model => model.SubApprove))
                            @(Html.HiddenFor(model => model.SubReject))
                            @(Html.HiddenFor(model => model.LabExemption_FILE))
                            @(Html.HiddenFor(model => model.WBExemption_FILE))
                            @(Html.HiddenFor(model => model.OrderAttachment_Path))
                            @Html.HiddenFor(model => model.STATUS, new { id = "hdnStatus" })
                            <ul class="nav nav-tabs progresstab" id="myTab" role="tablist">
                                <li class="startstep active" id="step1">
                                    <a class="active" id="lease-tab" data-toggle="tab" href="#lease" role="tab" aria-controls="lease" aria-selected="true" onclick="BackAttachments()">Lease Information</a>
                                </li>
                                <li id="step2">
                                    <a id="Attachments-tab" data-toggle="tab" href="#Attachments" role="tab" aria-controls="Attachments" aria-selected="false" onclick="BackFees()">Attachments</a>
                                </li>
                                <li id="step3">
                                    <a id="Fees-tab" data-toggle="tab" href="#Fees" role="tab" aria-controls="Fees" aria-selected="false" onclick="BackTransfer()">Fees Details</a>
                                </li>
                                <li id="step4">
                                    <a id="Transfer-tab" data-toggle="tab" href="#Transfer" role="tab" aria-controls="Transfer" aria-selected="false" onclick="BackPurpose()">Transfer</a>
                                </li>
                                <li id="step5">
                                    <a id="Purpose-tab" data-toggle="tab" href="#Purpose" role="tab" aria-controls="Purpose" aria-selected="false" onclick="BackLease()">Purpose</a>
                                </li>
                            </ul>
                            <div class="tab-content" id="myTabContent">
                                <div href="#lease" class="tab-pane fade show active" id="lease" role="tabpanel" aria-labelledby="lease-tab">
                                    <h5 class="text-brown font-weight-bold ">Lease Information</h5>
                                    <div class="row">
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Lease Type</label>
                                            @Html.DropDownListFor(model => model.APPLICATION_TYPE_ID, ViewBag.Lesseetype as IEnumerable<SelectListItem>, "Select", new { @class = "form-control", @id = "ddlLesseeType", @autofocus = "autofocus" })
                                            @*@Html.DropDownList("ID", ViewBag.Lesseetype as IEnumerable<SelectListItem>, "Select", new { @class = "form-control", autofocus = "autofocus", @id = "ddlLesseeType" })*@
                                            @Html.HiddenFor(m => m.APPLICATION_TYPE_ID, new { @id = "hdnAPPLICATION_TYPE_ID" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Application Number</label>
                                            @Html.TextBoxFor(m => m.APPLICATION_NUMBER, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Application Form(Major)</label>
                                            <div class="custom-file">
                                                <input name="APPLICATION_FORM_COPY" type="file" class="form-control custom-file-input">
                                                <label class="custom-file-label">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.APPLICATION_FORM_FILE_NAME != null && Model.APPLICATION_FORM_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.APPLICATION_FORM_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/APPLICATION_FORM/@Model.APPLICATION_FORM_FILE_NAME' title="" class="ml-2" data-original-title="Download Application Form Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Mine Code <span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(x => x.MINE_CODE, new { @maxlength = "50", @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.MINE_CODE, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Lease Name <span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(x => x.RECONNAISSANCE_LICENSE_NAME, new { @maxlength = "200", @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.RECONNAISSANCE_LICENSE_NAME, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Lease Address <span class="text-danger">*</span></label>
                                            @Html.TextAreaFor(x => x.RECONNAISSANCE_LICENSE_ADDRESS, new { @maxlength = "500", @class = "form-control", @rows = "2", @onkeyup = "CountAddress()" })
                                            <small class="text-danger">Maximum <strong><label id="lblMaxAddress" class="col-form-label">500</label></strong> characters</small>
                                            @Html.ValidationMessageFor(m => m.RECONNAISSANCE_LICENSE_ADDRESS, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">PAN Card Number</label>
                                            @Html.TextBoxFor(x => x.PAN_CARD_NO, new { @maxlength = "20", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">PAN Card Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="PAN_CARD_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.PAN_CARD_COPY_FILE_NAME != null && Model.PAN_CARD_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.PAN_CARD_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/PAN_CARD/@Model.PAN_CARD_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download PAN Card Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Adhar Card Number</label>
                                            @Html.TextBoxFor(x => x.ADHAR_CARD, new { @maxlength = "12", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Adhar Card Scan Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="ADHAR_CARD_SCAN_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.ADHAR_CARD_SCAN_COPY_FILE_NAME != null && Model.ADHAR_CARD_SCAN_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.ADHAR_CARD_SCAN_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/ADHAR_CARD/@Model.ADHAR_CARD_SCAN_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download AAdhar Card Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">GST/TIN Number</label>
                                            @Html.TextBoxFor(x => x.TIN_CARD, new { @maxlength = "20", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Scan Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="TIN_CARD_SCAN_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.TIN_CARD_SCAN_COPY_FILE_NAME != null && Model.TIN_CARD_SCAN_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.TIN_CARD_SCAN_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/TIN_CARD/@Model.TIN_CARD_SCAN_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download GST Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Firm Registration Deed No.</label>
                                            @Html.TextBoxFor(x => x.FIRMREGISTRATION_DEED_NUMBER, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Firm Registration Deed Document</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="FIRM_REGISTRATION_DEED">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.FIRM_REGISTRATION_DEED_FILE_NAME != null && Model.FIRM_REGISTRATION_DEED_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.FIRM_REGISTRATION_DEED_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/FIRM_REGISTRATION_DEED/@Model.FIRM_REGISTRATION_DEED_FILE_NAME' title="" class="ml-2" data-original-title="Download Firm Registration Deed Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Certification of Incorporation No.</label>
                                            @Html.TextBoxFor(x => x.CERTIFICATE_OF_INCORPORATION_NUMBER, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Certification of Incorporation Document</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="CERTIFICATE_OF_INCORPORATION_DOC">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.CERTIFICATE_OF_INCORPORATION_DOC_FILE_NAME != null && Model.CERTIFICATE_OF_INCORPORATION_DOC_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.CERTIFICATE_OF_INCORPORATION_DOC_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/CIRTIFICATE_OF_INCORPORATION/@Model.CERTIFICATE_OF_INCORPORATION_DOC_FILE_NAME' title="" class="ml-2" data-original-title="Download Incorporation Certification Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">WB Installed <span class="text-danger">*</span></label>
                                            @Html.DropDownListFor(model => model.WBInstalled,
                                                   new SelectList(new List<SelectListItem> {
                                                                  new SelectListItem { Text = "Select", Value = "0"},
                                                                  new SelectListItem { Text = "Yes", Value = "1"},
                                                                  new SelectListItem { Text = "No", Value = "2"},
                                                  }, "Value", "Text"),
                                                  new { @class = "form-control", @onchange = "onChangeWBExemption()" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivWBExemption" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Stamping Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputStampingDate" name="WBStampDate">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputStampingDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                                @Html.HiddenFor(m => m.WBStampDate, new { @id = "hdnWBStampDate" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivWBExemption" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Valid Upto</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputValidUpto" name="WBValidUpto">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputValidUpto"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.WBValidUpto, new { @id = "hdnWBValidUpto" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivWBUpload" style="display:none;">
                                            <label id="lblWBUpload" class="col-form-label font-weight-bolder">Upload Stamping Certificate</label>
                                            <div class="custom-file">
                                                <input name="WBExemption_Upload" type="file" class="form-control custom-file-input">
                                                <label class="custom-file-label">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.WBExemption_PATH != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.WBExemption_FILE) <a href='~/Upload/Lessee/APPLICATION/WBInstalled/@Model.WBExemption_FILE' title="" class="ml-2" data-original-title="Download Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divLabEstablished">
                                            <label class="col-form-label font-weight-bolder">Lab Established <span class="text-danger">*</span></label>
                                            @Html.DropDownListFor(model => model.LabEstablished,
                                                   new SelectList(new List<SelectListItem> {
                                                                 new SelectListItem { Text = "Select", Value = "0"},
                                                                 new SelectListItem { Text = "Yes", Value = "1" },
                                                                 new SelectListItem { Text = "No", Value = "0" },
                                                                 new SelectListItem { Text = "Not Applicable", Value = "2" },
                                            }, "Value", "Text"),
                                                  new { @class = "form-control", @onchange = "onChangeWBExemption()" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="DivLabExemption" style="display:none;">
                                            <label id="lblLabUpload" class="col-form-label font-weight-bolder">
                                                Upload copy of Inspection report by Officials(RH,DGM)
                                            </label>
                                            <div class="custom-file">
                                                <input name="LabExemption_Upload" type="file" class="form-control custom-file-input">
                                                <label class="custom-file-label">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.LabExemption_PATH != null && Model.LabExemption_PATH != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.LabExemption_PATH) <a href='@Model.LabExemption_PATH' title="" class="ml-2" data-original-title="Download Lab Installed Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Application Type <span class="text-danger">*</span></label>
                                            @Html.DropDownListFor(model => model.AuctionTypeId, ViewBag.Auctiontype as IEnumerable<SelectListItem>, "Select", new { @class = "form-control", @onchange = "onChangeAuction()", @autofocus = "autofocus" })
                                            @Html.ValidationMessageFor(m => m.AuctionTypeId, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="divAuctionDiv" style="display: none;">
                                            <label class="col-form-label font-weight-bolder">Monthly Periodic Amount / Auction Money (Rs./Unit) </label>
                                            <div class="py-2">
                                                @Html.TextBoxFor(model => model.MonthlyPeriodicAmt, new { @onkeypress = "return numericdotOnly(this)", @class = "form-control", @maxlength = "15" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="divBidPremium" style="display: none;">
                                            <label class="col-form-label font-weight-bolder">Bid Premium(%) </label>
                                            <div class="py-2">
                                                @Html.TextBoxFor(model => model.BidPremium, new { @class = "form-control", @onkeypress = "return numericdotOnly(this)", @maxlength = "10" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Do you have Storage/Crusher</label>
                                            <div class="py-2">
                                                @Html.RadioButtonFor(model => model.StorageCrusher, "Yes", new { id = "St_Yes", onchange = "StorageCrusherChange(this)", @class = "custom-radio" }) Yes
                                                @Html.RadioButtonFor(model => model.StorageCrusher, "No", new { id = "St_No", onchange = "StorageCrusherChange(this)", @class = "custom-radio", @checked = true }) No
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" style="display: none;" id="CrusherInstalledDiv">
                                            <label class="col-form-label font-weight-bolder">Crusher Installed within Lease Hold Area </label>
                                            <div class="py-2">
                                                @Html.RadioButtonFor(model => model.CrusherInstalled, "Yes", new { id = "Yes", onchange = "CrusherInstalledChange(this)", @class = "custom-radio" }) Yes
                                                @Html.RadioButtonFor(model => model.CrusherInstalled, "No", new { id = "No", onchange = "CrusherInstalledChange(this)", @class = "custom-radio", @checked = true }) No
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="LicenseStorageCopy" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">
                                                Copy of License of Storage/Crusher
                                            </label>
                                            <div class="custom-file">
                                                <input name="StorageCrusherAttachment_Upload" type="file" class="form-control custom-file-input">
                                                <label class="custom-file-label">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.StorageCrusherAttachment_FILE != null && Model.StorageCrusherAttachment_FILE != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.StorageCrusherAttachment_FILE) <a href='~/Upload/Lessee/APPLICATION/Minor_Mineral/@Model.StorageCrusherAttachment_FILE' title="" class="ml-2" data-original-title="Download Storage Crusher Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divEI">
                                            <label class="col-form-label font-weight-bolder">Adjust E & I CESS from royalty </label>
                                            <div class="py-2">
                                                @Html.RadioButtonFor(model => model.AdjustCess, "Yes", new { id = "Yes", @class = "custom-radio", onchange = "CessRoyaltyChange(this)" }) Yes
                                                @Html.RadioButtonFor(model => model.AdjustCess, "No", new { id = "No", @class = "custom-radio", onchange = "CessRoyaltyChange(this)", @checked = true }) No
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivCessRoyalty" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Order of</label>
                                            <div class="input-group">
                                                @Html.TextBoxFor(x => x.OrderOf, new { @maxlength = "200", @class = "form-control" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivCessRoyalty" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Order No</label>
                                            <div class="input-group">
                                                @Html.TextBoxFor(x => x.OrderNo, new { @maxlength = "200", @class = "form-control", @onkeypress = "return inputLimiter(event,'Numbers')" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivCessRoyalty" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Order Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputOrderDate" name="OrderDate">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputOrderDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.OrderDate, new { @id = "hdnOrderDate" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group DivCessRoyalty" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Order Attachment</label>
                                            <div class="custom-file">
                                                <input name="OrderCessRoyalty_Upload" type="file" class="form-control custom-file-input">
                                                <label class="custom-file-label">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.OrderAttachment_File != null && Model.OrderAttachment_File != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.OrderAttachment_File) <a href='~/Upload/Lessee/APPLICATION/APPLICATION_FORM/@Model.OrderAttachment_File' title="" class="ml-2" data-original-title="Download Attached Order Document" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12 text-center">
                                            <a class="btn btn-primary btn-md ml-0 waves-effect waves-light btnNext" onclick="NextAttachments()">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div href="#Attachments" class="tab-pane fade" id="Attachments" role="tabpanel" aria-labelledby="Attachments-tab">
                                    <h5 class="text-brown font-weight-bold">Attachments</h5>
                                    <div class="row">
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Power of Attorney</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="POWER_OF_ATORNY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.POWER_OF_ATORNY_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.POWER_OF_ATORNY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/POWER_OF_ATORNY/@Model.POWER_OF_ATORNY_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Affidavits / Mining Due Certificate</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="AFFIDAVITS_MINING_DUE_CERTIFICATE">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.AFFIDAVITS_MINING_DUE_CERTIFICATE_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.AFFIDAVITS_MINING_DUE_CERTIFICATE_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/AFFIDAVITS_MINNING_DUE_CERTIFICATE/@Model.AFFIDAVITS_MINING_DUE_CERTIFICATE_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Khasara Panchsala</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="KHASARA_PANCHSALA">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.KHASARA_PANCHSALA_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.KHASARA_PANCHSALA_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/KHASARA_PANCHASALA/@Model.KHASARA_PANCHSALA_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Map / Plan of applied area </label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="MAP_PLAN_OF_APPLIED_AREA">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.MAP_PLAN_OF_APPLIED_AREA_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.MAP_PLAN_OF_APPLIED_AREA_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/MAP_PLAN_OF_APPLIED_AREA/@Model.MAP_PLAN_OF_APPLIED_AREA_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Forest Report </label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="FOREST_REPORT">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.FOREST_REPORT_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.FOREST_REPORT_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/FOREST_REPORT/@Model.FOREST_REPORT_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Revenue Officer Report</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="REVENUE_OFFICER_REPORT">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.REVENUE_OFFICER_REPORT_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.REVENUE_OFFICER_REPORT_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/REVENUE_OFFICER_REPORT/@Model.REVENUE_OFFICER_REPORT_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Spot Inspection and Analysis Report</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="SPOT_INSPECTION_AND_ANALYSIS_REPORT">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.SPOT_INSPECTION_AND_ANALYSIS_REPORT_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.SPOT_INSPECTION_AND_ANALYSIS_REPORT_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/SPOT_INSPECTION_AND_ANALYSIS_REPORT/@Model.SPOT_INSPECTION_AND_ANALYSIS_REPORT_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Mining Inspector Report</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="MINING_INSPECTOR_REPORT">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.MINING_INSPECTOR_REPORT_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.MINING_INSPECTOR_REPORT_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/MINNING_INSPECTOR_REPORT/@Model.MINING_INSPECTOR_REPORT_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Gram Panchayat Proposal</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="GRAM_PANCHAYAT_PROPOSAL">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.GRAM_PANCHAYAT_PROPOSAL_FILE_NAME != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.GRAM_PANCHAYAT_PROPOSAL_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/GRAM_PANCHAYAT_PROPOSAL/@Model.GRAM_PANCHAYAT_PROPOSAL_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12 text-center">
                                            <a class="btn btn-dark btn-md ml-0 waves-effect waves-light btnPrevious" onclick="BackAttachments()">Previous</a>
                                            <a class="btn btn-primary btn-md ml-0 waves-effect waves-light btnNext" onclick="NextFees()">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div href="#Fees" class="tab-pane fade" id="Fees" role="tabpanel" aria-labelledby="Fees-tab">
                                    <h5 class="text-brown font-weight-bold">Fees Details</h5>
                                    <div class=" row">
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="divPaymentMode" style="display:none;">
                                            <label class="col-form-label font-weight-bolder">Payment Mode <span class="text-danger">*</span></label>
                                            <div class="py-2">
                                                @Html.RadioButtonFor(model => model.PaymentModeType, "BG", new { id = "BG", onChange = "paymentModeChange(this)" }) BG
                                                @Html.RadioButtonFor(model => model.PaymentModeType, "DD", new { id = "DD", onChange = "paymentModeChange(this)" }) DD
                                                @Html.ValidationMessageFor(m => m.PaymentModeType, "", new { @class = "text-danger" })
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="BGDiv" style="display: none;">
                                            <label class="col-form-label font-weight-bolder">Validity Upto</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputBGValidityUpto" name="BG_ValidityUpto">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputBGValidityUpto"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.BG_ValidityUpto, new { @id = "hdnBG_ValidityUpto" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" id="DDDiv" style="display: none;">
                                            <label class="col-form-label font-weight-bolder">Amount of DD</label>
                                            @(Html.TextBoxFor(model => model.AmountOfDD, "{0:n2}", new { @class = "form-control", style = "width:100%;" }))
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" style="display: none;" id="CopyOfPerformanceDiv">
                                            <div style="display: none;" id="CopyofPerformanceSecurity">
                                                <label class="col-form-label font-weight-bolder">Copy of Performance Security</label>
                                            </div>
                                            <div style="display: none;" id="CopyofDD">
                                                <label class="col-form-label font-weight-bolder">Copy of DD</label>
                                            </div>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="CopyOfPerformanceSecurity">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.PerformanceSecurity_FILE != null && Model.PerformanceSecurity_FILE != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.PerformanceSecurity_FILE) <a href='~/Upload/Lessee/APPLICATION/Minor_Mineral/@Model.PerformanceSecurity_FILE' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Application Fees (in <i class="fas fa-rupee-sign"></i>) </label>
                                            @Html.TextBoxFor(model => model.APPLICATION_FEES, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Application Fees Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputAppFeesDate" name="APPLICATION_FEES_DATE">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputAppFeesDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.APPLICATION_FEES_DATE, new { @id = "hdnAPPLICATION_FEES_DATE" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Application Fees Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="APPLICATION_FEES_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.APPLICATION_FEES_COPY_FILE_NAME != null && Model.APPLICATION_FEES_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.APPLICATION_FEES_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/APPLICATION_FEES_COPY/@Model.APPLICATION_FEES_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 divMajor">
                                            <label class="col-form-label font-weight-bolder">Security Deposit Challan / DD Amount (in <i class="fas fa-rupee-sign"></i>) </label>
                                            @Html.TextBoxFor(model => model.CHALLAN_DD_AMOUNT, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMajor">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Security Deposit Challan / DD Date </label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputDDDate" name="CHALLAN_DD_AMOUNT_DATE">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputDDDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.CHALLAN_DD_AMOUNT_DATE, new { @id = "hdnCHALLAN_DD_AMOUNT_DATE" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMajor">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Security Deposit Challan / DD Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="CHALLAN_DD_AMOUNT_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.CHALLAN_DD_AMOUNT_COPY_FILE_NAME != null && Model.CHALLAN_DD_AMOUNT_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.CHALLAN_DD_AMOUNT_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/CHALLAN_DD_COPY/@Model.CHALLAN_DD_AMOUNT_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Bank Guarrantee Amount (in <i class="fas fa-rupee-sign"></i>) </label>
                                            @Html.TextBoxFor(model => model.BANK_GUARRANTEE_AMOUNT, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Bank Guarranty Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputBankGuranteeDate" name="BANK_GUARRANTEE_DATE">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputBankGuranteeDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.BANK_GUARRANTEE_DATE, new { @id = "hdnBANK_GUARRANTEE_DATE" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Bank Guarranty Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="BANK_GUARRANTEE_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.BANK_GUARRANTEE_COPY_FILE_NAME != null && Model.BANK_GUARRANTEE_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.BANK_GUARRANTEE_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/BANK_GUARRANTEE_COPY/@Model.BANK_GUARRANTEE_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMinor">
                                            <label class="col-form-label font-weight-bolder">Bank Guarranty Validity Upto</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputBankGuranteeValidity" name="BANK_GUARRANTEE_VALIDITY">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputBankGuranteeValidity"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.BANK_GUARRANTEE_VALIDITY, new { @id = "hdnBANK_GUARRANTEE_VALIDITY" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMajor">
                                            <label class="col-form-label font-weight-bolder">Surety Bond Amount (in <i class="fas fa-rupee-sign"></i>) </label>
                                            @Html.TextBoxFor(model => model.SURITY_BOND_AMOUNT, new { @maxlength = "50", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMajor">
                                            <label class="col-form-label font-weight-bolder">Surety Bond Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputBondDate" name="SURITY_BOND_DATE">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputBondDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.SURITY_BOND_DATE, new { @id = "hdnSURITY_BOND_DATE" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group divMajor">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Surety Bond Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="SURITY_BOND_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.SURITY_BOND_COPY_FILE_NAME != null && Model.SURITY_BOND_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.SURITY_BOND_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/SURETY_BOND_COPY/@Model.SURITY_BOND_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        @if (Model != null && Model.AuctionTypeId == 2)
                                        {
                                            <div class="col-lg-4 col-md-6 col-sm-12 form-group" style="display:none;">
                                                <label class="col-form-label font-weight-bolder">Amount of Performance Security </label>
                                                @Html.TextBoxFor(model => model.UpfrontPaymentDeposited, new { @maxlength = "15", @class = "form-control disable", @Readonly = "Readonly" })
                                            </div>
                                            <div class="col-lg-4 col-md-6 col-sm-12 form-group" style="display:none;">
                                                <label class="col-form-label font-weight-bolder">Remaining Upfront Payment </label>
                                                @Html.TextBoxFor(model => model.TillDateBalanceUpfrontPayment, new { @maxlength = "15", @class = "form-control disable", @Readonly = "Readonly" })
                                            </div>
                                        }
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Fixed Deposits Monthly Income Scheme Certificate</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE_COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE_FILE_NAME != null && Model.FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE/@Model.FIXED_DEPOSITS_MONTHLY_INCOME_SCHEME_CERTIFICATE_FILE_NAME' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Internet Connection Available distpatch Point</label>
                                            @Html.DropDownListFor(model => model.IsInterNetConnectionAtDistpatch,
                                                   new SelectList(new List<SelectListItem> {
                                                                  new SelectListItem { Text = "Select", Value = "0"},
                                                                  new SelectListItem { Text = "Yes", Value = "1"},
                                                                  new SelectListItem { Text = "No", Value = "2"},
                                                  }, "Value", "Text"),
                                                  new { @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Till Date Dispatch Quantity <span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(model => model.TillDateDispatchQty, new { @maxlength = "15", @class = "form-control", @readonly = "readonly" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Amount of Financial Assurance</label>
                                            @Html.TextBoxFor(model => model.FinancialAmountAssurance, new { @maxlength = "15", @class = "form-control" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Financial Assurance Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="FinancialAssuranceCopy_Upload">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.FinancialAssuranceAttachment_FILE != null)
                                            {
                                                <label class="form-control-plaintext">@(Model.FinancialAssuranceAttachment_FILE) <a href='~/Upload/Lessee/APPLICATION/Minor_Mineral/@Model.FinancialAssuranceAttachment_FILE' title="" class="ml-2" data-original-title="Download" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12 text-center">
                                            <a class="btn btn-dark btn-md ml-0 waves-effect waves-light btnPrevious" onclick="BackFees()">Previous</a>
                                            <a class="btn btn-primary btn-md ml-0 waves-effect waves-light btnNext" onclick="NextTransfer()">Next</a>
                                        </div>
                                    </div>
                                </div>
                                <div href="#Transfer" class="tab-pane fade" id="Transfer" role="tabpanel" aria-labelledby="Transfer-tab">
                                    <h5 class="text-brown font-weight-bold">Transfer</h5>
                                    <div class="row">
                                        <div class="col-lg-4 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Transferee Name <span class="text-danger">*</span></label>
                                            @Html.TextBoxFor(model => model.NAME_OF_TRANSFEREE, new { @maxlength = "50", @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.NAME_OF_TRANSFEREE, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Transferee Address <span class="text-danger">*</span></label>
                                            @Html.TextAreaFor(model => model.ADDRESS_OF_TRANSFEREE, new { @maxlength = "500", @rows = "2", @class = "form-control", @onkeyup = "CountAddress()" })
                                            <small class="text-danger">Maximum <strong><label id="lblTransfereeAddress" class="col-form-label">500</label></strong> characters</small>
                                            @Html.ValidationMessageFor(m => m.ADDRESS_OF_TRANSFEREE, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Transfer Grant Order Copy</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="TRANSFER_GRANT_ORDER__COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.TRANSFER_GRANT_ORDER_COPY_FILE_NAME != null && Model.TRANSFER_GRANT_ORDER_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.TRANSFER_GRANT_ORDER_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/TRANSFER_GRANT_ORDER/@Model.TRANSFER_GRANT_ORDER_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Transfer Lease Deed Copy </label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="TRANSFER_LEASE_DEED__COPY">
                                                <label class="custom-file-label" for="customFile">Choose Files</label>
                                                <small class="text-danger">Files type <strong>(.jpg , .jpeg , .pdf)</strong> with maximum <strong>2MB</strong></small>
                                            </div>
                                            @if (Model.TRANSFER_LEASE_DEED_COPY_FILE_NAME != null && Model.TRANSFER_LEASE_DEED_COPY_FILE_NAME != "")
                                            {
                                                <label class="form-control-plaintext">@(Model.TRANSFER_LEASE_DEED_COPY_FILE_NAME) <a href='~/Upload/Lessee/APPLICATION/TRANSFER_LEASE_DEED/@Model.TRANSFER_LEASE_DEED_COPY_FILE_NAME' title="" class="ml-2" data-original-title="Download Copy" target="_blank"><i class="icon-file-pdf-solid h5 text-danger"></i></a></label>
                                            }
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Transfer Date</label>
                                            <div class="input-group">
                                                <input type="text" class="form-control datepicker" id="inputTransferDate" name="DATE_OF_TRANSFER">
                                                <div class="input-group-prepend">
                                                    <label class="input-group-text" for="inputTransferDate"><i class="icon-calendar-alt-solid"></i></label>
                                                </div>
                                            </div>
                                            @Html.HiddenFor(m => m.DATE_OF_TRANSFER, new { @id = "hdnDATE_OF_TRANSFER" })
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group" style="display:none;">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Remarks </label>
                                            @Html.TextAreaFor(x => x.Remarks, new { @class = "form-control", @maxlength = "500", @rows = "2", @onkeyup = "CountAddress()", @readonly = "true" })
                                            <small class="text-danger">Maximum <strong><label id="lblRemarks" class="col-form-label">500</label></strong> characters</small>
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12 text-center">
                                            <a class="btn btn-dark btn-md ml-0 waves-effect waves-light btnPrevious" onclick="BackTransfer()">Previous</a>
                                            @if (profile.MineralTypeName != "Minor Mineral")
                                            {
                                                <a class="btn btn-primary btn-md ml-0 waves-effect waves-light btnNext" onclick="NextPurpose()">Next</a>
                                            }
                                            @if (Model.STATUS != 5 && profile.MineralTypeName == "Minor Mineral")
                                            {
                                                <input type="submit" id="Submit" value="Save & Update" class="btn btn-success btn-md ml-0 waves-effect waves-light btnsave" name="Submit" onclick="return Validate()" />
                                                <input type="submit" value="Delete" class="btn btn-danger btn-md ml-0 waves-effect waves-light btndelete" id="Delete" name="delete" onclick="return confirm('Are you sure to delete?')" style="display:none;" />
                                                <input type="button" title="Forward to DD" value="Forward To DD" name="cmd" class="btn btn-warning text-dark btn-md waves-effect waves-light btnsave" onclick="if (Validate()) { return OnForwarding('Forward To DD'); }" />
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div href="#Purpose" class="tab-pane fade" id="Purpose" role="tabpanel" aria-labelledby="Purpose-tab">
                                    <h5 class="text-brown font-weight-bold">Purpose</h5>
                                    <div class="row">
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder">Lease Purpose <span class="text-danger">*</span></label>
                                            @Html.DropDownListFor(model => model.LeasePurpose,
                                                new SelectList(new List<SelectListItem> {
                                                               new SelectListItem { Text = "Select", Value = "0"},
                                                               new SelectListItem { Text = "Captive", Value = "1"},
                                                               new SelectListItem { Text = "Non Captive Consumption", Value = "2"},
                                               }, "Value", "Text"),
                                               new { @class = "form-control", @onchange = "onChangeLease()" })
                                            @Html.ValidationMessageFor(m => m.LeasePurpose, "", new { @class = "text-danger" })
                                        </div>
                                        @*<div class="col-lg-12 col-md-6 col-sm-12 form-group Divcaptive">
                                                <div class="form-group row">
                                                    <div class="col-sm-12">
                                                        <div class="table-responsive">
                                                            @Html.Raw((String)ViewBag.tableLA)
                                                        </div>
                                                        <div class="row mt-4">
                                                            <a class='btn btn-danger btn-md remove m-0 mr-1'><i class='icon-minus-solid' aria-hidden='true' data-toggle='tooltip' data-placement='top' title='Remove Row' onclick="RemoveRow('MiningPlanTable')"></i></a> <a class='btn btn-success btn-md add-btn  m-0 mr-1' data-toggle='tooltip' data-placement='top' title='Add Row' onclick="addRow('MiningPlanTable')"><i class='icon-plus-solid' aria-hidden='true'></i></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>*@
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group Divcaptive">
                                            <label class="col-form-label font-weight-bolder">State <span class="text-danger">*</span></label>
                                            <select class="form-control" name="StateId" id="ddlState">
                                                <option value="" selected="selected">Select</option>
                                                @{
                                                    List<LesseeInfoModel> listState = (List<LesseeInfoModel>)ViewData["State"];
                                                    if (listState != null)
                                                    {
                                                        foreach (var item in listState)
                                                        {
                                                            <option value="@item.StateId">@item.StateName</option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group Divcaptive">
                                            <label class="col-form-label font-weight-bolder">District <span class="text-danger">*</span></label>
                                            <select id="DistrictID" name="DistrictId" Class="form-control">
                                                <option value="">Select</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group Divcaptive">
                                            <label class="col-form-label font-weight-bolder">User Type <span class="text-danger">*</span></label>
                                            <select class="form-control" name="UserTypeId" id="ddlUserType">
                                                <option value="">Select</option>
                                                @{
                                                    List<LesseeInfoModel> listUserType = (List<LesseeInfoModel>)ViewData["UserType"];
                                                    if (listUserType != null)
                                                    {
                                                        foreach (var item in listUserType)
                                                        {
                                                            <option value="@item.UserTypeId">@item.UserType</option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="col-lg-4 col-md-6 col-sm-12 form-group Divcaptive">
                                            <label class="col-form-label font-weight-bolder">User <span class="text-danger">*</span></label>
                                            <select id="CaptiveUserId" name="CaptiveUserId" Class="form-control">
                                                <option value="">Select</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-3 Divcaptive" style="margin-top: 39px;">
                                            <a class="btn btn-success btn-md waves-effect waves-light" data-toggle="tooltip" data-placement="top" title="Add Row" onclick="addRow()"><i class="icon-plus-solid" aria-hidden="true"></i>Add More</a>
                                        </div>
                                        <div class="col-lg-8 col-md-6 col-sm-12 form-group Divcaptive">
                                            <div class="table-responsive">
                                                <table id='CaptiveTable' class='table table-bordered table-sm'>
                                                    <thead>
                                                        <tr>
                                                            <th width='40px' class='font-weight-bolder'>Sl#</th>
                                                            <th> State </th>
                                                            <th> District </th>
                                                            <th> User Type </th>
                                                            <th> User </th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        @{ int i = 1;
                                                        }
                                                        @foreach (var b in ViewBag.Captive)
                                                        {
                                                            <tr>
                                                                <td>
                                                                    @i
                                                                    @{ i++; }
                                                                </td>
                                                                <td>@b.StateName <input type="hidden" name="State_Id" value="@b.State_Id" /></td>
                                                                <td>@b.DisrictName <input type="hidden" name="District_Id" value="@b.District_Id" /></td>
                                                                <td>@b.UserType <input type="hidden" name="UserType_Id" value="@b.UserType_Id" /></td>
                                                                <td>@b.CaptiveUserName <input type="hidden" name="CaptiveUser_Id" value="@b.CaptiveUser_Id" /></td>
                                                                <td><a class="btn btn-danger btn-sm delete" data-toggle="tooltip" data-placement="top" title="Remove Row"><i class="icon-trash-alt-solid"></i></a></td>
                                                            </tr>
                                                        }
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12 text-center">
                                            <a class="btn btn-dark btn-md ml-0 waves-effect waves-light btnPrevious" onclick="BackPurpose()">Previous</a>
                                            @if (Model.STATUS != 5)
                                            {
                                                <input type="submit" id="Submit" value="Save & Update" class="btn btn-success btn-md ml-0 waves-effect waves-light btnsave" name="Submit" onclick="return Validate()" />
                                                <input type="submit" value="Delete" class="btn btn-danger btn-md ml-0 waves-effect waves-light btndelete" id="Delete" name="delete" onclick="return confirm('Are you sure to delete?')" style="display:none;" />
                                                <input type="button" title="Forward to DD" value="Forward To DD" name="cmd" class="btn btn-warning text-dark btn-md waves-effect waves-light btnsave" onclick="if (Validate()) { return OnForwarding('Forward To DD'); }" />
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>
