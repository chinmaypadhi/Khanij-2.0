@*// *********************************************************************************************************
    //  View Name                : FORMII
    //  Desciption               : To Save Form II
    //  Created By               : Akshaya Dalei
    //  Created On               : 08 Nov 2021
    // ********************************************************************************************************
*@
@model ReturnEF.CoalMonthlyViewModel
@{
    ViewData["Title"] = "FORM II";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    if (ViewBag.msg != null)
    {
        <script>
                swal('','@ViewBag.msg',"success");
        </script>
    }
}
<section class="wrapper main-wrapper row">

    <div class="col-12">
        @Html.Partial("_CMSnavigation")
        <!-- MAIN CONTENT AREA STARTS -->
        <div class="row">
            <div class="col-12">
                <div class="main-tab">
                    <ul class="nav nav-tabs">
                        <a class="nav-link active" href="javascript:void(0);">
                            Form II
                        </a>
                    </ul>
                    @Html.Partial("_CMSutil")
                </div>

                <section class="box form-container">

                    <div class="content-body">
                        <div class="text-center text-dark">
                            <h6 class="font-weight-bold">First Schedule</h6>
                            <p class="font-weight-normal mb-0">Form II</p>
                        </div>



                        <ul class="nav nav-tabs progressbar border-0" id="myTab" role="tablist">
                            <li class="startstep activestep1">
                                <a class="active" id="first-tab" data-toggle="tab" href="#first" role="tab" aria-controls="first" aria-selected="true">Details of the Mine</a>
                            </li>
                            <li>
                                <a id="second-tab" data-toggle="tab" href="#second" role="tab" aria-controls="second" aria-selected="false">Table A</a>
                            </li>
                            <li>
                                <a id="third-tab" data-toggle="tab" href="#third" role="tab" aria-controls="third" aria-selected="false">Table B</a>
                            </li>
                            <li>
                                <a id="four-tab" data-toggle="tab" href="#four" role="tab" aria-controls="four" aria-selected="false">Table C</a>
                            </li>
                            <li>
                                <a id="five-tab" data-toggle="tab" href="#five" role="tab" aria-controls="five" aria-selected="false">Table D</a>
                            </li>
                        </ul>
                        <input type="hidden" value="@ViewBag.Month_Year" name="Month_Year" id="Month_Year" />
                        @using (Html.BeginForm("FORMII", "EReturnCoal", FormMethod.Post, new { @id = "FrmII_TableD", @enctype = "multipart/form-data" }))
                        {
                            <div class="tab-content" id="myTabContent">
                                <input type="hidden" value="@ViewBag.Month_Year" name="objMine.Month_Year4" id="Month_Year1" />
                                <div class="tab-pane fade show active" id="first" role="tabpanel" aria-labelledby="first-tab">
                                    @Html.HiddenFor(m => m.objMine.Flag)
                                    @Html.HiddenFor(m => m.objMine.Coal_Monthly_Id)

                                    <div class="form-group row">
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Name of Mine</label>
                                            <input type="text" value="@Model.objMine.MineName" name="objMine.Name_of_mine" id="objMine_MineName" class="form-control">
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Postal address of mine</label>
                                            <textarea name="objMine.postal_address_of_mine" rows="1" cols="20" id="objMine_postal_address_of_mine" class="form-control">@Model.objMine.MineAddress</textarea>
                                            <small class="text-danger">Maximum <strong>500</strong> characters</small>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Situation of Mine/Place</label>
                                            <input type="text" value="@Model.objMine.Situation_of_Mine" name="objMine.Situation_of_Mine" id="objMine_Situation_of_Mine" class="form-control">
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">District</label>
                                            <input type="text" class="form-control" value="@Model.objMine.MineDistrict" name="objMine.District" id="objMine_District">

                                        </div>

                                    </div>

                                    <div class="form-group row">

                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">State</label>
                                            <input type="text" value="@Model.objMine.MineState" name="objMine.State" id="objMine_State" class="form-control">
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Name of Owner</label>
                                            <input type="text" value="@Model.objMine.LesseeName" name="objMine.Name_of_Owner" id="objMine_Name_of_Owner" class="form-control">
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Postal address of owner</label>
                                            <textarea name="objMine.Postal_address_of_owner" rows="1" cols="20" id="objMine_Postal_address_of_owner" class="form-control">@Model.objMine.LesseeAddress</textarea>
                                            <small class="text-danger">Maximum <strong>500</strong> characters</small>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label for="inputLoginId" class="col-form-label font-weight-bolder">Name of managing agents, if any</label>
                                            <input type="text" value="@Model.objMine.Name_of_agents" name="objMine.Name_of_agents" id="objMine_Name_of_agents" class="form-control">
                                        </div>

                                    </div>



                                    <div class="form-group row">

                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Postal address of managing agents</label>
                                            <textarea name="objMine.Address_of_agents" rows="1" cols="20" id="objMine_Address_of_agents" class="form-control">@Model.objMine.Address_of_agents</textarea>
                                            <small class="text-danger">Maximum <strong>500</strong> characters</small>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Name of agents, if any</label>
                                            <input type="text" value="@Model.objMine.agent_name" name="objMine.agent_name" id="objMine_agent_name" class="form-control">
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Postal address of agents</label>
                                            <textarea name="objMine.agent_address" rows="1" cols="20" id="objMine_agent_address" class="form-control">@Model.objMine.agent_address</textarea>
                                            <small class="text-danger">Maximum <strong>500</strong> characters</small>
                                        </div>
                                        <div class="col-lg-3 col-md-6 col-sm-12">
                                            <label class="col-form-label font-weight-bolder">Name of manager<span class="text-danger">*</span></label>
                                            <input type="text" value="@Model.objMine.Name_of_manager" name="objMine.Name_of_manager" id="objMine_Name_of_manager" class="form-control">
                                        </div>
                                    </div>



                                    <div class="row">

                                        <div class="col-lg-3 col-md-6 col-sm-12 form-group">
                                            <label class="col-form-label font-weight-bolder ">Postal address of manager<span class="text-danger">*</span></label>
                                            <textarea name="objMine.Address_of_manager" rows="1" cols="20" id="objMine_Address_of_manager" class="form-control">@Model.objMine.Address_of_manager</textarea>
                                            <small class="text-danger">Maximum <strong>500</strong> characters</small>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="custom-control custom-checkbox">
                                                @Html.CheckBoxFor(m => m.objMine.Certify, new { @class = "custom-control-input", id = "objMine_Certify" })
                                                <label class="custom-control-label" for="objMine_Certify">
                                                    Certified that the information given above and in Tables A to C below is correct to the best of my knowledge
                                                </label>
                                            </div>
                                        </div>

                                    </div>






                                </div>

                                <div class="tab-pane fade" id="second" role="tabpanel" aria-labelledby="second-tab">
                                    <div class="row">
                                        <div class="col-sm-12 mt-3">
                                            <div class="table-responsive">
                                                <a id="IdAddTableA" href="javascript:void(0);"
                                                   class="btn-floating btn-outline-success btn-sm"
                                                   data-toggle="modal"
                                                   data-target=".alert-modal" data-toggle="tooltip" data-placement="top" title="Add New"><i class="icon-plus-solid"></i></a>
                                                <table id="datatable" class="table table-sm table-bordered">
                                                    <thead>
                                                        <tr>

                                                            <th rowspan="3">Name OF Colliery Siding</th>
                                                            <th rowspan="3">Mineral Nature</th>
                                                            <th rowspan="3">Mineral Grade</th>
                                                            <th rowspan="3">Size Of Coal</th>
                                                            <th rowspan="3">Opening Stock</th>
                                                            <th colspan="3" class="text-center">Coal Raised</th>
                                                            <th rowspan="3">Colliery Consumption</th>
                                                            <th rowspan="3">Coalused Makingcoke Colliery</th>
                                                            <th rowspan="3">Coke Produced</th>
                                                            <th colspan="4" class="text-center">Coal Despatched</th>
                                                            <th class="noprint" rowspan="3">Actions</th>
                                                        </tr>
                                                        <tr>
                                                            <th rowspan="2">Open cast working</th>
                                                            <th colspan="2" class="text-center">Workings below ground</th>
                                                            <th rowspan="2">By Rail</th>
                                                            <th rowspan="2">By Road</th>
                                                            <th rowspan="2">By Other</th>
                                                            <th rowspan="2">Stock at the end of month</th>

                                                        </tr>
                                                        <tr>
                                                            <th>Development Districts</th>
                                                            <th>Depillaring District</th>

                                                        </tr>

                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>
                                    </div>

                                </div>

                                <div class="tab-pane fade" id="third" role="tabpanel" aria-labelledby="third-tab">

                                    <div class="row">
                                        <div class="col-sm-12 mt-3">
                                            <div class="table-responsive">
                                                <a id="IdAddTableB" href="javascript:void(0);"
                                                   class="btn-floating btn-outline-success btn-sm"
                                                   data-toggle="modal"
                                                   data-target=".alert-modal2" data-toggle="tooltip" data-placement="top" title="Add New"><i class="icon-plus-solid"></i></a>
                                                <table id="datatable2" class="table table-sm table-bordered">
                                                    <thead>
                                                        <tr>

                                                            <th rowspan="2">Workings Background Type</th>
                                                            <th colspan="4" class="text-center">Coal-cutting machines</th>
                                                            <th colspan="3" class="text-center">Mechanical Loaders</th>
                                                            <th colspan="3" class="text-center">Conveyors</th>
                                                            <th class="noprint" rowspan="2">Actions</th>
                                                        </tr>
                                                        <tr>
                                                            <th>Number in use</th>
                                                            <th>Type</th>
                                                            <th>Square metres cut</th>
                                                            <th>coal cut (tonnes)</th>
                                                            <th>Number in use</th>
                                                            <th>Type</th>
                                                            <th>coal loaded (tonnes)</th>
                                                            <th>Type</th>
                                                            <th>Length (metres)</th>
                                                            <th>coal loaded (tonnes)</th>

                                                        </tr>


                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>


                                        </div>
                                    </div>


                                </div>

                                <div class="tab-pane fade" id="four" role="tabpanel" aria-labelledby="four-tab">
                                    <input type="hidden" value="@ViewBag.Month_Year" name="objWork.Month_Year3" id="Month_Year2" />
                                    <h5 class="text-brown font-weight-bold text-center">Maximum number of persons employed on any one day during the month</h5>
                                    <div class="form-group row">

                                        <div class="col-xl-6">
                                            <div class="bg-light p-2 form-group border">
                                                <div class="row">
                                                    <div class="col-sm-7">
                                                        @Html.HiddenFor(c => c.objWork.Working_BackgroundOn_Id)
                                                        @Html.HiddenFor(c => c.objWork.Flag)
                                                        <label class="col-form-label font-weight-bolder ">In workings below ground on<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="text" name="objWork.Belowground_on_str" value="@Model.objWork.Belowground_on" class="form-control datepicker" id="objWork_Belowground_on_str">
                                                            <div class="input-group-prepend">
                                                                <label class="input-group-text" for="objWork_Belowground_on_str"><i class="icon-calendar-alt-solid"></i></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label class="col-form-label font-weight-bolder">No. of employee<span class="text-danger">*</span></label>
                                                        <input type="number" name="objWork.Belowground_No_Employee" id="objWork_Belowground_No_Employee" value="@Model.objWork.Belowground_No_Employee" class="form-control">
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-6">
                                            <div class="bg-light p-2 form-group border">
                                                <div class="row">
                                                    <div class="col-sm-7">
                                                        <label class="col-form-label font-weight-bolder">In all in the mine on<span class="text-danger">*</span></label>
                                                        <div class="input-group">
                                                            <input type="text" name="objWork.Mine_on_str" value="@Model.objWork.Mine_on" class="form-control datepicker" id="objWork_Mine_on_str">
                                                            <div class="input-group-prepend">
                                                                <label class="input-group-text" for="objWork_Mine_on_str"><i class="icon-calendar-alt-solid"></i></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label class="col-form-label font-weight-bolder">No. of employee<span class="text-danger">*</span></label>
                                                        <input type="number" value="@Model.objWork.Mine_No_Employee" name="objWork.Mine_No_Employee" id="objWork_Mine_No_Employee" class="form-control">
                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                    </div>

                                    <div class="table-responsive">
                                        <table class="table table-sm table-bordered">
                                            <tbody>
                                                <tr>
                                                    <th rowspan="2" class="font-weight-bold">Classification</th>
                                                    <th colspan="2" class="text-center font-weight-bold">Aggregate number of mandays worked (b)(c)</th>
                                                    <th colspan="5" class="text-center font-weight-bold">Aggregate number of man-days lost on account of absence (d)(e)</th>

                                                </tr>
                                                <tr>
                                                    <th class="text-center font-weight-bold">Men</th>
                                                    <th class="text-center font-weight-bold">Women</th>
                                                    <th class="text-center font-weight-bold">Sickness</th>
                                                    <th class="text-center font-weight-bold">Accident</th>
                                                    <th class="text-center font-weight-bold">Leave</th>
                                                    <th class="text-center font-weight-bold">Other Cause</th>
                                                    <th class="text-center font-weight-bold">Total</th>
                                                </tr>

                                                <tr>
                                                    <td class="font-weight-bold">Belowground :(i) Mines & Loaders</td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Mine_Loader_Men" name="objWork.BG_Mine_Loader_Men" id="objWork_BG_Mine_Loader_Men"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Mine_Loader_Women" name="objWork.BG_Mine_Loader_Women" id="objWork_BG_Mine_Loader_Women"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Sickness" name="objWork.BG_Sickness" id="objWork_BG_Sickness"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Accident" name="objWork.BG_Accident" id="objWork_BG_Accident"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Leave" name="objWork.BG_Leave" id="objWork_BG_Leave"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_OtherCause" name="objWork.BG_OtherCause" id="objWork_BG_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.BG_Total" name="objWork.BG_Total" id="objWork_BG_Total"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Belowground :(ii) Others</td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_Men" name="objWork.BG_Other_Men" id="objWork_BG_Other_Men"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_Women" name="objWork.BG_Other_Women" id="objWork_BG_Other_Women"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_Sickness" name="objWork.BG_Other_Sickness" id="objWork_BG_Other_Sickness"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_Accident" name="objWork.BG_Other_Accident" id="objWork_BG_Other_Accident"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_Leave" name="objWork.BG_Other_Leave" id="objWork_BG_Other_Leave"></td>
                                                    <td><input class="form-control BG_TableC" type="number" value="@Model.objWork.BG_Other_OtherCause" name="objWork.BG_Other_OtherCause" id="objWork_BG_Other_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.BG_Other_Total" name="objWork.BG_Other_Total" id="objWork_BG_Other_Total"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Opencast Workings :(i) Mines & Loaders</td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Mine_Loader_Men" name="objWork.OC_Mine_Loader_Men" id="objWork_OC_Mine_Loader_Men"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Mine_Loader_Women" name="objWork.OC_Mine_Loader_Women" id="objWork_OC_Mine_Loader_Women"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Sickness" name="objWork.OC_Sickness" id="objWork_OC_Sickness"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Accident" name="objWork.OC_Accident" id="objWork_OC_Accident"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Leave" name="objWork.OC_Leave" id="objWork_OC_Leave"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_OtherCause" name="objWork.OC_OtherCause" id="objWork_OC_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.OC_Total" name="objWork.OC_Total" id="objWork_OC_Total"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Opencast Workings :(ii) Others</td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_Men" name="objWork.OC_Other_Men" id="objWork_OC_Other_Men"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_Women" name="objWork.OC_Other_Women" id="objWork_OC_Other_Women"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_Sickness" name="objWork.OC_Other_Sickness" id="objWork_OC_Other_Sickness"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_Accident" name="objWork.OC_Other_Accident" id="objWork_OC_Other_Accident"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_Leave" name="objWork.OC_Other_Leave" id="objWork_OC_Other_Leave"></td>
                                                    <td><input class="form-control OC_TableC" type="number" value="@Model.objWork.OC_Other_OtherCause" name="objWork.OC_Other_OtherCause" id="objWork_OC_Other_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.OC_Other_Total" name="objWork.OC_Other_Total" id="objWork_OC_Other_Total"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Aboveground:</td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_Men" name="objWork.AG_Men" id="objWork_AG_Men"></td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_Women" name="objWork.AG_Women" id="objWork_AG_Women"></td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_Sickness" name="objWork.AG_Sickness" id="objWork_AG_Sickness"></td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_Accident" name="objWork.AG_Accident" id="objWork_AG_Accident"></td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_Leave" name="objWork.AG_Leave" id="objWork_AG_Leave"></td>
                                                    <td><input class="form-control AG_TableC" type="number" value="@Model.objWork.AG_OtherCause" name="objWork.AG_OtherCause" id="objWork_AG_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.AG_Total" name="objWork.AG_Total" id="objWork_AG_Total"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Total</td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_Men" name="objWork.Total_Men" id="objWork_Total_Men"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_Women" name="objWork.Total_Women" id="objWork_Total_Women"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_Sickness" name="objWork.Total_Sickness" id="objWork_Total_Sickness"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_Accident" name="objWork.Total_Accident" id="objWork_Total_Accident"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_Leave" name="objWork.Total_Leave" id="objWork_Total_Leave"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_OtherCause" name="objWork.Total_OtherCause" id="objWork_Total_OtherCause"></td>
                                                    <td><input class="form-control" readonly="readonly" type="number" value="@Model.objWork.Total_All" name="objWork.Total_All" id="objWork_Total_All"></td>

                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>


                                </div>

                                <div class="tab-pane fade" id="five" role="tabpanel" aria-labelledby="five-tab">
                                    <div class="table-responsive">
                                        <input type="hidden" value="@ViewBag.Month_Year" name="objEarn.Month_Year5" id="Month_Year3" />
                                        @Html.HiddenFor(c => c.objMine.Flag)
                                        @Html.HiddenFor(c => c.objWork.Flag)
                                        @Html.HiddenFor(c => c.objEarn.Flag)

                                        @Html.HiddenFor(c => c.objEarn.Attendance_earn_Id)
                                        @Html.HiddenFor(c => c.objMine.SubmitFlag)

                                        <table class="table table-sm table-bordered mt-3">
                                            <tbody>
                                                <tr>
                                                    <th rowspan="2" class="font-weight-bolder">Classification</th>
                                                    <th rowspan="2" class="font-weight-bolder text-center">Average daily attendance during the week</th>
                                                    <th rowspan="2" class="font-weight-bolder text-center">Aggregate number of manhours worked during the week</th>
                                                    <th colspan="4" class="font-weight-bolder text-center">Total cash payments for work dobe during week</th>

                                                </tr>
                                                <tr>
                                                    <th class="font-weight-bolder text-center">Basic Wages</th>
                                                    <th class="font-weight-bolder text-center">Dearness allwance</th>
                                                    <th class="font-weight-bolder text-center">Other cash payments</th>
                                                    <th class="font-weight-bolder text-center">Total</th>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Below Ground:(i)Overman and Sirdars</td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_OS_Average_att" name="objEarn.BG_OS_Average_att" id="objEarn_BG_OS_Average_att"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_OS_Aggregate_No" name="objEarn.BG_OS_Aggregate_No" id="objEarn_BG_OS_Aggregate_No"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_OS_Basic_wages" name="objEarn.BG_OS_Basic_wages" id="objEarn_BG_OS_Basic_wages" onchange="TextChangeBelowGroundOverMen();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_OS_Dearness_allowance" name="objEarn.BG_OS_Dearness_allowance" id="objEarn_BG_OS_Dearness_allowance" onchange="TextChangeBelowGroundOverMen();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_OS_cash" name="objEarn.BG_OS_cash" id="objEarn_BG_OS_cash" onchange="TextChangeBelowGroundOverMen();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.BG_OS_Total" name="objEarn.BG_OS_Total" id="objEarn_BG_OS_Total"></td>
                                                </tr>


                                                <tr>
                                                    <td class="font-weight-bolder">Below Ground:(ii)Miners and Loaders</td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_ML_Average_att" name="objEarn.BG_ML_Average_att" id="objEarn_BG_ML_Average_att"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_ML_Aggregate_No" name="objEarn.BG_ML_Aggregate_No" id="objEarn_BG_ML_Aggregate_No"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_ML_Basic_wages" name="objEarn.BG_ML_Basic_wages" id="objEarn_BG_ML_Basic_wages" onchange="TextChangeBelowGroundML();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_ML_Dearness_allowance" name="objEarn.BG_ML_Dearness_allowance" id="objEarn_BG_ML_Dearness_allowance" onchange="TextChangeBelowGroundML();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_ML_cash" name="objEarn.BG_ML_cash" id="objEarn_BG_ML_cash" onchange="TextChangeBelowGroundML();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.BG_ML_Total" name="objEarn.BG_ML_Total" id="objEarn_BG_ML_Total"></td>
                                                </tr>

                                                <tr>
                                                    <td class="font-weight-bolder">Below Ground:(iii)Others</td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_Other_Average_att" name="objEarn.BG_Other_Average_att" id="objEarn_BG_Other_Average_att"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_Other_Aggregate_No" name="objEarn.BG_Other_Aggregate_No" id="objEarn_BG_Other_Aggregate_No"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_Other_Basic_wages" name="objEarn.BG_Other_Basic_wages" id="objEarn_BG_Other_Basic_wages" onchange="TextChangeBelowGroundOthers();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_Other_Dearness_allowance" name="objEarn.BG_Other_Dearness_allowance" id="objEarn_BG_Other_Dearness_allowance" onchange="TextChangeBelowGroundOthers();"></td>
                                                    <td><input class="form-control BG_TableD" type="number" value="@Model.objEarn.BG_Other_cash" name="objEarn.BG_Other_cash" id="objEarn_BG_Other_cash" onchange="TextChangeBelowGroundOthers();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.BG_Other_Total" name="objEarn.BG_Other_Total" id="objEarn_BG_Other_Total"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Opencast Workings:(i)Overman and Sirdars</td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_OS_Average_att" name="objEarn.OC_OS_Average_att" id="objEarn_OC_OS_Average_att"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_OS_Aggregate_No" name="objEarn.OC_OS_Aggregate_No" id="objEarn_OC_OS_Aggregate_No"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_OS_Basic_wages" name="objEarn.OC_OS_Basic_wages" id="objEarn_OC_OS_Basic_wages" onchange="TextChangeOpencastOverMen();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_OS_Dearness_allowance" name="objEarn.OC_OS_Dearness_allowance" id="objEarn_OC_OS_Dearness_allowance" onchange="TextChangeOpencastOverMen();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_OS_cash" name="objEarn.OC_OS_cash" id="objEarn_OC_OS_cash" onchange="TextChangeOpencastOverMen();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.OC_OS_Total" name="objEarn.OC_OS_Total" id="objEarn_OC_OS_Total"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Opencast Workings:(ii)Miners and Loaders</td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_ML_Average_att" name="objEarn.OC_ML_Average_att" id="objEarn_OC_ML_Average_att"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_ML_Aggregate_No" name="objEarn.OC_ML_Aggregate_No" id="objEarn_OC_ML_Aggregate_No"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_ML_Basic_wages" name="objEarn.OC_ML_Basic_wages" id="objEarn_OC_ML_Basic_wages" onchange="TextChangeOpencastML();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_ML_Dearness_allowance" name="objEarn.OC_ML_Dearness_allowance" id="objEarn_OC_ML_Dearness_allowance" onchange="TextChangeOpencastML();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_ML_cash" name="objEarn.OC_ML_cash" id="objEarn_OC_ML_cash" onchange="TextChangeOpencastML();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.OC_ML_Total" name="objEarn.OC_ML_Total" id="objEarn_OC_ML_Total"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Opencast Workings:(iii)Others</td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_Other_Average_att" name="objEarn.OC_Other_Average_att" id="objEarn_OC_Other_Average_att"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_Other_Aggregate_No" name="objEarn.OC_Other_Aggregate_No" id="objEarn_OC_Other_Aggregate_No"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_Other_Basic_wages" name="objEarn.OC_Other_Basic_wages" id="objEarn_OC_Other_Basic_wages" onchange="TextChangeOpenCastOther();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_Other_Dearness_allowance" name="objEarn.OC_Other_Dearness_allowance" id="objEarn_OC_Other_Dearness_allowance" onchange="TextChangeOpenCastOther();"></td>
                                                    <td><input class="form-control OC_TableD" type="number" value="@Model.objEarn.OC_Other_cash" name="objEarn.OC_Other_cash" id="objEarn_OC_Other_cash" onchange="TextChangeOpenCastOther();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.OC_Other_Total" name="objEarn.OC_Other_Total" id="objEarn_OC_Other_Total"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Above Ground:(i) Clerical and Supervisory staff</td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_CSS_Average_att" name="objEarn.AG_CSS_Average_att" id="objEarn_AG_CSS_Average_att"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_CSS_Aggregate_No" name="objEarn.AG_CSS_Aggregate_No" id="objEarn_AG_CSS_Aggregate_No"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_CSS_Basic_wages" name="objEarn.AG_CSS_Basic_wages" id="objEarn_AG_CSS_Basic_wages" onchange="TextChangeAboveGround();"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_CSS_Dearness_allowance" name="objEarn.AG_CSS_Dearness_allowance" id="objEarn_AG_CSS_Dearness_allowance" onchange="TextChangeAboveGround();"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_CSS_cash" name="objEarn.AG_CSS_cash" id="objEarn_AG_CSS_cash" onchange="TextChangeAboveGround();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.AG_CSS_Total" name="objEarn.AG_CSS_Total" id="objEarn_AG_CSS_Total"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Above Ground:(ii) Others - men women</td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_Other_Average_att" name="objEarn.AG_Other_Average_att" id="objEarn_AG_Other_Average_att"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_Other_Aggregate_No" name="objEarn.AG_Other_Aggregate_No" id="objEarn_AG_Other_Aggregate_No"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_Other_Basic_wages" name="objEarn.AG_Other_Basic_wages" id="objEarn_AG_Other_Basic_wages" onchange="TextChangeAboveGroundOthers();"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_Other_Dearness_allowance" name="objEarn.AG_Other_Dearness_allowance" id="objEarn_AG_Other_Dearness_allowance" onchange="TextChangeAboveGroundOthers();"></td>
                                                    <td><input class="form-control AG_TableD" type="number" value="@Model.objEarn.AG_Other_cash" name="objEarn.AG_Other_cash" id="objEarn_AG_Other_cash" onchange="TextChangeAboveGroundOthers();"></td>
                                                    <td><input class="form-control" readonly type="number" value="@Model.objEarn.AG_Other_Total" name="objEarn.AG_Other_Total" id="objEarn_AG_Other_Total"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table table-sm table-bordered mt-3">
                                            <tbody>
                                                <tr>
                                                    <th class="font-weight-bolder">Classification</th>
                                                    <th width="400px" class="font-weight-bolder text-center">Total cash payments for work dobe during week</th>

                                                </tr>

                                                <tr>
                                                    <td class="font-weight-bolder">Total estimated value of concessions in kind (g) given during the week : Rs.</td>
                                                    <td><input class="form-control" type="number" value="@Model.objEarn.Total_Estimated_Value" name="objEarn.Total_Estimated_Value" id="objEarn_Total_Estimated_Value"></td>

                                                </tr>


                                                <tr>
                                                    <td class="font-weight-bolder">Normal hours of production shifts</td>
                                                    <td><input class="form-control" type="number" value="@Model.objEarn.Normal_hrs_production_shifts" name="objEarn.Normal_hrs_production_shifts" id="objEarn_Normal_hrs_production_shifts"></td>

                                                </tr>

                                                <tr>
                                                    <td class="font-weight-bolder">First shift</td>
                                                    <td><input class="form-control" type="number" value="@Model.objEarn.First_Shift" name="objEarn.First_Shift" id="objEarn_First_Shift"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Second shift </td>
                                                    <td><input class="form-control" type="number" value="@Model.objEarn.Second_Shift" name="objEarn.Second_Shift" id="objEarn_Second_Shift"></td>

                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bolder">Third shift </td>
                                                    <td><input class="form-control" type="number" value="@Model.objEarn.Third_Shift" name="objEarn.Third_Shift" id="objEarn_Third_Shift"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-sm-12 text-center">
                                            @if (Model.objEarn.Attendance_earn_Id != 0)
                                            {
                                                <input type="button" id="btnUpdate1" value="Update" onclick="return OnUpdateEarn();" class="btn btn-danger btn-md ml-0 waves-effect waves-light">
                                                <input type="button" id="btnFinalSubmit" value="Submit Coal e-Return" onclick="return OnSubmit();" class="btn btn-success btn-md ml-0 waves-effect waves-light">
                                            }
                                            else
                                            {
                                                <input type="button" id="btnSave1" onclick="return OnSaveEarn();" value="Save" class="btn btn-dark btn-md ml-0 waves-effect waves-light btnPrevious">
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                    </div>
                </section>
            </div>
        </div>
    </div>
</section>

<!-- alert 1-->
<div class="modal fade alert-modal" tabindex="-1" role="dialog" id="IdModalTableA" aria-labelledby="alertModal" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header p-3">
                <h5 class="modal-title m-0">Add New for Coal Table A</h5>
                <a class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </a>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Mineral Form<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <select id="ddlMineralForm" name="MineralNatureId" class="form-control form-control-sm searchableselect">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Mineral Grade<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <select id="ddlMineralGrade" name="MineralGradeId" class="form-control form-control-sm searchableselect">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Name of Colliery Siding<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Name_OF_Colliery_Siding" name="Name_OF_Colliery_Siding" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Size Of Coal (1) <span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Size_Of_Coal" name="Size_Of_Coal" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal Raised<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <div class="py-2">
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" class="custom-control-input" checked="checked" onchange="CoalRaisedRadioChange()" id="radio1" name="CoalRaised" value="Open">
                                        <label class="custom-control-label" for="radio1">Open Cast</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" class="custom-control-input" id="radio2" onchange="CoalRaisedRadioChange()" name="CoalRaised" value="Workings">
                                        <label class="custom-control-label" for="radio2">Workings below ground</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" class="custom-control-input" onchange="CoalRaisedRadioChange()" id="radio3" name="CoalRaised" value="Both">
                                        <label class="custom-control-label" for="radio3">Both</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Stock at the beginning of month (2)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="Opening_Stock" data-val-regex-pattern="[0-9]*\.?[0-9]+" onfocus="CalCulateTotalStock(1147,this);" id="txtOpeningStock" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 div_Opening_Stock">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Open Cast Working (3)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="OpenCW" name="OpenCW" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-6 div_Workingsground">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Below Ground Work Development Districts (4)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Below_GW_DevelopmentDistricts" name="Below_GW_DevelopmentDistricts" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 div_Workingsground">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Below Ground Work Depillaring Districts (5)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Below_GW_DepillaringDistricts" name="Below_GW_DepillaringDistricts" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Colliery consumption (Boilers, Domestic etc (6)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="CollieryConsumption" name="CollieryConsumption" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal used in making coke in colliery (7)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Coalused_Makingcoke_Colliery" name="Coalused_Makingcoke_Colliery" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coke Produced (8)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="CokeProduced" id="CokeProduced" onfocus="CalCulateTotalStock(1147,this);" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal Despatched By Rail (9)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="CoalDespatched_ByRail" onfocus="CalCulateTotalStock(1147,this);" id="txtCoalDespatchedByRail" type="text" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal Despatched By Road (10)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="CoalDespatched_ByRoad" onfocus="CalCulateTotalStock(1147,this);" id="txtCoalDespatchedByRoad" type="text" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal Despatched By Other (11)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="CoalDespatched_ByOther" onfocus="CalCulateTotalStock(1147,this);" id="txtCoalDespatchedByOther" type="text" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Closing Stock (12) <span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" name="Closing_Stock" id="txtClosingStock" type="text" readonly>
                            </div>
                        </div>
                    </div>


                </div>

                <a class="btn btn-primary btn-md m-0" href="javascript:void(0);" onclick="SaveTableA();">Submit</a>
                <a class="btn btn-danger btn-md m-0" href="javascript:void(0);" onclick="ResetTableA();">Reset</a>

            </div>

        </div>
    </div>
</div>
<!-- alert 2-->
<div class="modal fade alert-modal2" id="IdModalTableB" tabindex="-1" role="dialog" aria-labelledby="alertModal" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header p-3">
                <h5 class="modal-title m-0">Add for Machinery Table B</h5>
                <a class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </a>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Select Background Type<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <select id="ddlBackgroundType" name="WorkingsBG_Type" class="form-control form-control-sm searchableselect">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="offset-lg-6"></div>
                    <div class="col-sm-12">
                        <h6 class="text-brown  font-weight-bold">Coal-cutting machines</h6>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Number in use<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Coal_Cutting_No_In_Use" name="Coal_Cutting_No_In_Use" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Type<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Coal_Cutting_Type" name="Coal_Cutting_Type" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Square metres cut<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Square_Metres_Cut" name="Square_Metres_Cut" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal cut (tonnes)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Coal_cut" name="Coal_cut" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <h6 class="text-brown  font-weight-bold">Mechanical Loaders</h6>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Number in use<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="MechanicalLoaders_NoInUse" name="MechanicalLoaders_NoInUse" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Type<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="MechanicalLoaders_Type" name="MechanicalLoaders_Type" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal loaded (tonnes)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="MechanicalLoaders_Coalloaded" name="MechanicalLoaders_Coalloaded" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <h6 class="text-brown  font-weight-bold">Conveyors</h6>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Type<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Conveyors_Type" name="Conveyors_Type" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Length (Metres)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Conveyors_Length" name="Conveyors_Length" type="number">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group row">
                            <label class="col-sm-5 col-form-label font-weight-bolder">Coal conveyed (tonnes)<span class="text-danger">*</span></label>
                            <div class="col-sm-7">
                                <input class="form-control" id="Coal_conveyed" name="Coal_conveyed" type="number">
                            </div>
                        </div>
                    </div>



                </div>




                <a class="btn btn-primary btn-md m-0" href="javascript:void(0);" onclick="SaveTableB();">Submit</a>
                <a class="btn btn-danger btn-md m-0" href="javascript:void(0);" onclick="ResetTableB();">Reset</a>

            </div>

        </div>
    </div>
</div>


<script>
    var TableAGridCount = 0;
    var TableBGridCount = 0;
    indicateMe = "yes"

    $(document).ready(function () {

        loadNavigation('MontlyReturnFormTwo', 'glereturncoal', 'plmonretcoal', 'tl', 'E-Return Coal', 'FORM II', ' ');

        $('.searchableselect').searchableselect();
        $('.div_Workingsground').hide();

        //$('#datatable').DataTable();
        // $('#datatable2').DataTable(); 
        //Table A Details
        TableADetails();
        //Table B Details
        TableBDetails();

        $('.datepicker').datetimepicker({
            format: 'LT',
            format: 'DD-MM-YYYY'
            /* daysOfWeekDisabled: [0, 6],*/
        });
    });

    //----------------------------------------------------Table A Start Here------------------------------
    //On Click Tab A Call Table A Details
    $('#second-tab').click(function () {
        debugger;
        TableADetails();
    });
    //Delete Table A
    function DeleteTableA(par) {

        $.ajax({
            url: "/EReturnCoal/EReturnCoal/DeleteCoalMonthly_eReturn",
            data: { 'Id': par, 'UserId': 150 },
            dataType: 'json',
            type: 'post',
            success: function (data) {
                if (data == "1") {
                    swal('',"Record Deleted Successfully","success");
                    TableADetails();
                }
                else {
                    swal('',"Some error occur.Please Try after some time","error");
                }
            },
            error: function (XHR) {
                swal('',XHR.responseText);
            }

        });
    }

    //Table A Details
    function TableADetails() {
        debugger;
        $.ajax({
            url: "/EReturnCoal/EReturnCoal/GetCoalMonthly_eReturn",
            data: { 'MonthYear': $('#Month_Year1').val(), "UserID": 150 },
            dataType: 'json',
            type: 'post',
            success: function (data) {
                debugger;
                $('#datatable tbody').html("");
                var row = "";
                if (data.length > 0) {
                    TableAGridCount = data.length;
                    // $('#datatable').DataTable().clear().destroy();
                    $.each(data, function (index, item) {

                        row += "<tr>" +
                            "<td>" + item.name_OF_Colliery_Siding + "</td>" +
                            "<td>" + item.mineralNature + "</td>" +
                            "<td>" + item.mineralGrade + "</td>" +
                            "<td>" + item.size_Of_Coal + "</td>" +
                            "<td>" + item.opening_Stock + "</td>" +
                            "<td>" + item.openCW + "</td>" +
                            "<td>" + item.below_GW_DevelopmentDistricts + "</td>" +
                            "<td>" + item.below_GW_DepillaringDistricts + "</td>" +
                            "<td>" + item.collieryConsumption + "</td>" +
                            "<td>" + item.coalused_Makingcoke_Colliery + "</td>" +
                            "<td>" + item.cokeProduced + "</td>" +
                            "<td>" + item.coalDespatched_ByRail + "</td>" +
                            "<td>" + item.coalDespatched_ByRoad + "</td>" +
                            "<td>" + item.coalDespatched_ByOther + "</td>" +
                            "<td>" + item.closing_Stock + "</td>" +
                            "<td class='noprint'>" +
                            "<a href='javascript:void(0);' id='" + item.coal_TableA_Id + "' onclick='DeleteTableA(this.id)' class='btn-floating btn-outline-danger btn-sm'  data-toggle='tooltip' data-placement='top' title='Delete'><i class='icon-trash-alt-solid'></i></a>" +
                            "</td></tr>";
                    })
                    $('#datatable tbody').html(row);
                    // $('#datatable').DataTable();
                }
            },
            error: function (err) {
                swal('',err.responseText);
            }
        });
    }
    //----------------------

    $('#IdAddTableA').click(function () {
        //$('#IdModalTableA').modal('show');
        ResetTableA();
        GetMineralForm();
    });
    //Get Mineral Form
    function GetMineralForm() {

        $.ajax({
            url: "/EReturnCoal/EReturnCoal/GetMineralNature",
            data: {},
            dataType: 'json',
            type: 'post',
            success: function (data) {
                $('#ddlMineralForm').html('');
                $('#ddlMineralForm').append('<option value="">Select Form</option>');
                $('#ddlMineralGrade').html('');
                $('#ddlMineralGrade').append('<option value="">Select Grade</option>');
                $.each(data, function (index, item) {
                    $('#ddlMineralForm').append('<option value="' + item.mineralNatureId + '">' + item.mineralNature + '</option>');
                });
            },
            error: function (err) {
                swal('',err.responseText);
            }
        });

    }

    //Get Mineral Grade By Mineral Form
    $('#ddlMineralForm').change(function () {
        if ($('#ddlMineralForm').val() != "") {
            $.ajax({
                url: "/EReturnCoal/EReturnCoal/GetMineralGrade",
                data: { 'MineralNatureId': $('#ddlMineralForm').val() },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    $('#ddlMineralGrade').html('');
                    $('#ddlMineralGrade').append('<option value="">Select Grade</option>');
                    $.each(data, function (index, item) {
                        $('#ddlMineralGrade').append('<option value="' + item.mineralGradeId + '">' + item.mineralGrade + '</option>');
                    });
                },
                error: function (err) {
                    swal('',err.responseText);
                }
            });
        }
        else {

            $('#ddlMineralGrade').html('');
            $('#ddlMineralGrade').append('<option value="">Select Grade</option>');
            $("#txtCoalDespatchedByRail").val('');
            $("#txtCoalDespatchedByRoad").val('');
            $("#txtCoalDespatchedByOther").val('');
            $("#txtClosingStock").val('');
            $('#txtOpeningStock').val('');
        }
    });

    //Get Stock and Despatch Details
    $('#ddlMineralGrade').change(function () {
        debugger;
        if ($('#ddlMineralGrade').val() != "") {
            $.ajax({
                url: "/EReturnCoal/EReturnCoal/getDisaptchByMonthYear",
                data: { 'monthYear': $('#Month_Year1').val(), 'MineralGradeId': $('#ddlMineralGrade').val() },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    debugger;

                    console.log(data[0].railDispatche)
                    $("#txtCoalDespatchedByRail").val(data[0].railDispatche).trigger("change");
                    $("#txtCoalDespatchedByRoad").val(data[0].roadDispatch).trigger("change");
                    $("#txtCoalDespatchedByOther").val(data[0].otherDispatch).trigger("change");
                    $("#txtClosingStock").val(data[0].closing_Stock).trigger("change");
                    if (data[0].closing_Stock != null || data[0].closing_Stock != '') {
                        $('#txtOpeningStock').val(data[0].closing_Stock).trigger("change");
                        $('#txtOpeningStock').attr("readonly", "readonly");
                    }

                    CalCulateTotalStock(1147, this);
                },
                error: function (err) {
                    swal('',err.responseText);
                }
            });
        }
        else {
            $("#txtCoalDespatchedByRail").val('');
            $("#txtCoalDespatchedByRoad").val('');
            $("#txtCoalDespatchedByOther").val('');
            $("#txtClosingStock").val('');
            $('#txtOpeningStock').val('');
        }
    });

    //Calculate Total Stock
    function CalCulateTotalStock(mid, $this) {
        debugger;
        var selectedRadio = $("input[name='CoalRaised']:checked").val();


        var var_Opening_Stock = $('#txtOpeningStock').val();
        if (selectedRadio == 'Open') {
            var var_OpenCW = $('#OpenCW').val();
        }
        else if (selectedRadio == 'Workings') {
            var var_Below_GW_DevelopmentDistricts = $('#Below_GW_DevelopmentDistricts').val();
            var var_Below_GW_DepillaringDistricts = $('#Below_GW_DepillaringDistricts').val();
        }
        else {
            var var_OpenCW = $('#OpenCW').val();
            var var_Below_GW_DevelopmentDistricts = $('#Below_GW_DevelopmentDistricts').val();
            var var_Below_GW_DepillaringDistricts = $('#Below_GW_DepillaringDistricts').val();
        }

        var var_CollieryConsumption = $('#CollieryConsumption').val();
        var var_Coalused_Makingcoke_Colliery = $('#Coalused_Makingcoke_Colliery').val();
        var var_CokeProduced = $('#CokeProduced').val();
        var var_CoalDespatched_ByRail = $('#txtCoalDespatchedByRail').val();
        var var_CoalDespatched_ByRoad = $('#txtCoalDespatchedByRoad').val();
        var var_CoalDespatched_ByOther = $('#txtCoalDespatchedByOther').val();

        var_Opening_Stock = var_Opening_Stock || 0
        var_OpenCW = var_OpenCW || 0
        var_Below_GW_DevelopmentDistricts = var_Below_GW_DevelopmentDistricts || 0
        var_Below_GW_DepillaringDistricts = var_Below_GW_DepillaringDistricts || 0
        var_CollieryConsumption = var_CollieryConsumption || 0
        var_Coalused_Makingcoke_Colliery = var_Coalused_Makingcoke_Colliery || 0
        var_CokeProduced = var_CokeProduced || 0
        var_CoalDespatched_ByRail = var_CoalDespatched_ByRail || 0
        var_CoalDespatched_ByRoad = var_CoalDespatched_ByRoad || 0
        var_CoalDespatched_ByOther = var_CoalDespatched_ByOther || 0

        var a = parseFloat(var_Opening_Stock) +
            parseFloat(var_OpenCW) +
            parseFloat(var_Below_GW_DevelopmentDistricts) +
            parseFloat(var_Below_GW_DepillaringDistricts)


        var b = (parseFloat(var_CollieryConsumption) +
            parseFloat(var_Coalused_Makingcoke_Colliery) +
            parseFloat(var_CokeProduced))

        var c =
            (parseFloat(var_CoalDespatched_ByRail) +
                parseFloat(var_CoalDespatched_ByRoad) +
                parseFloat(var_CoalDespatched_ByOther))

        var Total = a - b - c;
        //console.log(a);
        //console.log(b);
        //console.log(c);

        $('#txtClosingStock').val(Total);
        $('#txtClosingStock').change();

    }

    //On Radi Button Change
    function CoalRaisedRadioChange() {
        debugger;
        var selectedRadio = $("input[name='CoalRaised']:checked").val();

        if (selectedRadio == 'Open') {
            $('.div_Opening_Stock').show();
            $('.div_Workingsground').hide();
            $("#Below_GW_DevelopmentDistricts").val(0).trigger('change');
            $("#Below_GW_DepillaringDistricts").val(0).trigger('change');
        }

        else if (selectedRadio == 'Workings') {
            $('.div_Opening_Stock').hide();
            $('.div_Workingsground').show();
            $("#OpenCW").val(0).trigger('change');

        }
        else if (selectedRadio == 'Both') {
            $('.div_Opening_Stock').show();
            $('.div_Workingsground').show();
        }
        else {
            $('.div_Opening_Stock').hide();
            $('.div_Workingsground').hide();
        }

        CalCulateTotalStock(1147, this);
    }

    //Reset Table A
    function ResetTableA() {

        $('#ddlMineralForm').val('');
        $('#ddlMineralGrade').val('');
        $('#Name_OF_Colliery_Siding').val('');
        $('#Size_Of_Coal').val('');
        $("#radio1").attr('checked', 'checked');
        $('.div_Opening_Stock').show();
        $('.div_Workingsground').hide();
        $('#txtOpeningStock').val('');
        $('#OpenCW').val('');
        $('#Below_GW_DevelopmentDistricts').val('');
        $('#Below_GW_DepillaringDistricts').val('');
        $('#CollieryConsumption').val('');
        $('#Coalused_Makingcoke_Colliery').val('');
        $('#CokeProduced').val('');
        $("#txtCoalDespatchedByRail").val('');
        $("#txtCoalDespatchedByRoad").val('');
        $("#txtCoalDespatchedByOther").val('');
        $("#txtClosingStock").val('');
        $('#IdModalTableA').modal('hide');

    }

    //Save Table A
    function SaveTableA() {


        if (ValidateTableA() == true) {
            $.ajax({
                url: "/EReturnCoal/EReturnCoal/ADDCoalMonthly_eReturn",
                data: {
                    'Coal_TableA_Id': 0, 'MineralNatureId': $('#ddlMineralForm').val(), 'MineralGradeId': $('#ddlMineralGrade').val(),
                    'Name_OF_Colliery_Siding': $('#Name_OF_Colliery_Siding').val(), 'Size_Of_Coal': $('#Size_Of_Coal').val(), 'CoalRaised': $("input[name='CoalRaised']:checked").val(),
                    'Opening_Stock': ($('#txtOpeningStock').val() == "" ? 0 : $('#txtOpeningStock').val()), 'OpenCW': $('#OpenCW').val(), 'Below_GW_DevelopmentDistricts': $('#Below_GW_DevelopmentDistricts').val(),
                    'Below_GW_DepillaringDistricts': $('#Below_GW_DepillaringDistricts').val(), 'CollieryConsumption': $('#CollieryConsumption').val(),
                    'Coalused_Makingcoke_Colliery': $('#Coalused_Makingcoke_Colliery').val(), 'CokeProduced': $('#CokeProduced').val(),
                    'CoalDespatched_ByRail': $("#txtCoalDespatchedByRail").val(), 'CoalDespatched_ByRoad': $("#txtCoalDespatchedByRoad").val(),
                    'CoalDespatched_ByOther': $("#txtCoalDespatchedByOther").val(), 'Closing_Stock': $("#txtClosingStock").val(), 'Month_Year': $('#Month_Year1').val()
                },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    if (data == "1") {
                        swal('','Record Saved Successfully');
                        TableADetails();
                        ResetTableA();
                    }
                    else if (data == "2") {
                        swal('','Same mineral grade already existed.Please try again later!');
                        ResetTableA();
                    }
                    else {
                        swal('','Transaction Failed');
                    }
                },
                error: function (err) {
                    swal('',err.responseText);
                }
            });
        }
    }

    function ValidateTableA() {
        if ($('#ddlMineralForm').val() == "") {
            swal('','Please Select Mineral Form');
            $('#ddlMineralForm').focus();
            return false;
        }

        if ($('#ddlMineralGrade').val() == "") {
            swal('','Please Select Mineral Grade');
            $('#ddlMineralGrade').focus();
            return false;
        }

        if ($('#Name_OF_Colliery_Siding').val() == "") {
            swal('','Please Enter Name Of Colliery Siding');
            $('#Name_OF_Colliery_Siding').focus();
            return false;
        }

        if ($('#Size_Of_Coal').val() == "") {
            swal('','Please Enter Size Of Coal');
            $('#Size_Of_Coal').focus();
            return false;
        }

        if ($("input[name='CoalRaised']:checked").val() == "Open") {
            if ($('#OpenCW').val() == "") {
                swal('','Please Enter Open Cast Working');
                $('#OpenCW').focus();
                return false;
            }
        }

        if ($("input[name='CoalRaised']:checked").val() == "Workings") {
            if ($('#Below_GW_DevelopmentDistricts').val() == "") {
                swal('','Please Enter Below Ground Work Development Districts');
                $('#Below_GW_DevelopmentDistricts').focus();
                return false;
            }
            if ($('#Below_GW_DepillaringDistricts').val() == "") {
                swal('','Please Enter Below Ground Work Depillaring Districts');
                $('#Below_GW_DepillaringDistricts').focus();
                return false;
            }
        }

        if ($("input[name='CoalRaised']:checked").val() == "Both") {
            if ($('#OpenCW').val() == "") {
                swal('','Please Enter Open Cast Working');
                $('#OpenCW').focus();
                return false;
            }
            if ($('#Below_GW_DevelopmentDistricts').val() == "") {
                swal('','Please Enter Below Ground Work Development Districts');
                $('#Below_GW_DevelopmentDistricts').focus();
                return false;
            }
            if ($('#Below_GW_DepillaringDistricts').val() == "") {
                swal('','Please Enter Below Ground Work Depillaring Districts');
                $('#Below_GW_DepillaringDistricts').focus();
                return false;
            }
        }

        if ($('#CollieryConsumption').val() == "") {
            swal('','Please Enter Colliery consumption Boilers, Domestic etc');
            $('#CollieryConsumption').focus();
            return false;
        }

        if ($('#Coalused_Makingcoke_Colliery').val() == "") {
            swal('','Please Enter Coal used in making coke in colliery');
            $('#Coalused_Makingcoke_Colliery').focus();
            return false;
        }

        if ($('#CokeProduced').val() == "") {
            swal('','Please Enter Coke Produced');
            $('#CokeProduced').focus();
            return false;
        }

        if (Number($('#txtClosingStock').val()) < 0) {
            swal('',"Closing stock should not be minus value");
            $('#txtClosingStock').focus();
            return false;
        }

        return true
    }
    //-------------------------------------------------Table A End Here----------------------------

    //-------------------------------------------------Table B Start Here---------------------------
    $('#third-tab').click(function () {
        TableBDetails();
    });

    $('#IdAddTableB').click(function () {
        ResetTableB();
        GetBackGroundType();
    });
    //Get Background Type
    function GetBackGroundType() {
        $.ajax({
            url: "/EReturnCoal/EReturnCoal/GetWorkingBackGroungType",
            data: {},
            dataType: "json",
            type: "post",
            success: function (data) {
                $('#ddlBackgroundType').html("");
                $('#ddlBackgroundType').append("<option value=''>Select Working Type</option>");
                $.each(data, function (ind, item) {
                    $('#ddlBackgroundType').append("<option value='" + item.workingsBG_Type_Id + "'>" + item.workingsBG_Type + "</option>");
                });
            },
            error: function (err) {
                swal('',err.responseText);
            }
        });
    }
    //Table B Details
    function TableBDetails() {
        debugger;
        $.ajax({
            url: "/EReturnCoal/EReturnCoal/GetMACHINERYMonthly_eReturn",
            data: { 'MonthYear': $('#Month_Year1').val(), "UserID": 150 },
            dataType: 'json',
            type: 'post',
            success: function (data) {
                debugger;
                $('#datatable2 tbody').html("");
                var row = "";
                if (data.length > 0) {
                    TableBGridCount = data.length;
                    // $('#datatable').DataTable().clear().destroy();
                    $.each(data, function (index, item) {

                        row += "<tr>" +
                            "<td>" + item.workingsBG_Type + "</td>" +
                            "<td>" + item.coal_Cutting_No_In_Use + "</td>" +
                            "<td>" + item.coal_Cutting_Type + "</td>" +
                            "<td>" + item.square_Metres_Cut + "</td>" +
                            "<td>" + item.coal_cut + "</td>" +
                            "<td>" + item.mechanicalLoaders_NoInUse + "</td>" +
                            "<td>" + item.mechanicalLoaders_Type + "</td>" +
                            "<td>" + item.mechanicalLoaders_Coalloaded + "</td>" +
                            "<td>" + item.conveyors_Type + "</td>" +
                            "<td>" + item.conveyors_Length + "</td>" +
                            "<td>" + item.coal_conveyed + "</td>" +
                            "<td class='noprint'>" +
                            "<a href='javascript:void(0);' id='" + item.machinerY_TableB_Id + "' onclick='DeleteTableB(this.id)' class='btn-floating btn-outline-danger btn-sm'  data-toggle='tooltip' data-placement='top' title='Delete'><i class='icon-trash-alt-solid'></i></a>" +
                            "</td></tr>";
                    })
                    $('#datatable2 tbody').html(row);
                    // $('#datatable').DataTable();
                }
            },
            error: function (err) {
                swal('',err.responseText);
            }
        });
    }
    //----------------------
    //Delete Table B
    function DeleteTableB(par) {

        $.ajax({
            url: "/EReturnCoal/EReturnCoal/DeleteMACHINERYMonthly_eReturn",
            data: { 'Id': par, 'UserId': 150 },
            dataType: 'json',
            type: 'post',
            success: function (data) {
                if (data == "1") {
                    swal('',"Record Deleted Successfully");
                    TableBDetails();
                }
                else {
                    swal('',"Some error occur.Please Try after some time");
                }
            },
            error: function (XHR) {
                swal('',XHR.responseText);
            }

        });
    }

    //Reset Table B
    function ResetTableB() {

        $('#ddlBackgroundType').val('');
        $('#Coal_Cutting_No_In_Use').val('');
        $('#Coal_Cutting_Type').val('');
        $('#Square_Metres_Cut').val('');
        $('#Coal_cut').val('');
        $('#MechanicalLoaders_NoInUse').val('');
        $('#MechanicalLoaders_Type').val('');
        $('#MechanicalLoaders_Coalloaded').val('');
        $('#Conveyors_Type').val('');
        $('#Conveyors_Length').val('');
        $('#Coal_conveyed').val('');
        $('#IdModalTableB').modal('hide');

    }

    //Save Table B
    function SaveTableB() {
        if (ValidateTableB() == true) {
            $.ajax({
                url: "/EReturnCoal/EReturnCoal/ADDMACHINERYMonthly_eReturn",
                data: {
                    'MACHINERY_TableB_Id': 0, 'WorkingsBG_Type': $('#ddlBackgroundType option:selected').text(), 'Coal_Cutting_No_In_Use': $('#Coal_Cutting_No_In_Use').val(),
                    'Coal_Cutting_Type': $('#Coal_Cutting_Type').val(), 'Square_Metres_Cut': $('#Square_Metres_Cut').val(), 'Coal_cut': $('#Coal_cut').val(),
                    'MechanicalLoaders_NoInUse': $('#MechanicalLoaders_NoInUse').val(), 'MechanicalLoaders_Type': $('#MechanicalLoaders_Type').val(),
                    'MechanicalLoaders_Coalloaded': $('#MechanicalLoaders_Coalloaded').val(), 'Conveyors_Type': $('#Conveyors_Type').val(), 'Conveyors_Length': $('#Conveyors_Length').val(),
                    'Coal_conveyed': $('#Coal_conveyed').val(), 'Month_Year': $('#Month_Year1').val()
                },
                dataType: 'json',
                type: 'post',
                success: function (data) {
                    if (data == "1") {
                        swal('','Record Saved Successfully');
                        TableBDetails();
                        ResetTableB();
                    }
                    else if (data == "2") {
                        swal('','Record already exists.');
                        ResetTableB();
                    }
                    else {
                        swal('','Transaction Failed');
                    }
                },
                error: function (err) {
                    swal('',err.responseText);
                }
            });
        }
    }

    function ValidateTableB() {
        if ($('#ddlBackgroundType').val() == "") {
            swal('','Please Select Background Type');
            $('#ddlBackgroundType').focus();
            return false;
        }

        if ($('#Coal_Cutting_No_In_Use').val() == "") {
            swal('','Please Enter Coal Cutting No In Use');
            $('#Coal_Cutting_No_In_Use').focus();
            return false;
        }

        if ($('#Coal_Cutting_Type').val() == "") {
            swal('','Please Enter Coal Cutting Type');
            $('#Coal_Cutting_Type').focus();
            return false;
        }

        if ($('#Square_Metres_Cut').val() == "") {
            swal('','Please Enter Square Metres Cut');
            $('#Square_Metres_Cut').focus();
            return false;
        }

        if ($('#Coal_cut').val() == "") {
            swal('','Please Enter Coal cut');
            $('#Coal_cut').focus();
            return false;
        }

        if ($('#MechanicalLoaders_NoInUse').val() == "") {
            swal('','Please Enter Mechanical Loaders No In Use');
            $('#MechanicalLoaders_NoInUse').focus();
            return false;
        }

        if ($('#MechanicalLoaders_Type').val() == "") {
            swal('','Please Enter Mechanical Loaders Type');
            $('#MechanicalLoaders_Type').focus();
            return false;
        }

        if ($('#MechanicalLoaders_Coalloaded').val() == "") {
            swal('','Please Enter Mechanical Loaders Coalloaded');
            $('#MechanicalLoaders_Coalloaded').focus();
            return false;
        }

        if ($('#Conveyors_Type').val() == "") {
            swal('','Please Enter Conveyors Type');
            $('#Conveyors_Type').focus();
            return false;
        }

        if ($('#Conveyors_Length').val() == "") {
            swal('','Please Enter Conveyors Length');
            $('#Conveyors_Length').focus();
            return false;
        }

        if ($('#Coal_conveyed').val() == "") {
            swal('','Please Enter Coal conveyed');
            $('#Coal_conveyed').focus();
            return false;
        }

        return true;
    }
    //--------------------------------Table B End Here-----------------------------------

    //------------------------------Table C Start Here----------------------------
    function TextChangeMen() {
        var BG_M_L_Men = $("#objWork_BG_Mine_Loader_Men").val();
        if (BG_M_L_Men == "") {
            BG_M_L_Men = 0;
        }
        var BG_Other_Men = $("#objWork_BG_Other_Men").val();
        if (BG_Other_Men == "") {
            BG_Other_Men = 0;
        }
        var OC_M_L_Men = $("#objWork_OC_Mine_Loader_Men").val();
        if (OC_M_L_Men == "") {
            OC_M_L_Men = 0;
        }
        var OC_Other_Men = $("#objWork_OC_Other_Men").val();
        if (OC_Other_Men == "") {
            OC_Other_Men = 0;
        }
        var AG_Men = $("#objWork_AG_Men").val();
        if (AG_Men == "") {
            AG_Men = 0;
        }

        var SUM = Number(BG_M_L_Men) + Number(BG_Other_Men) + Number(OC_M_L_Men) + Number(OC_Other_Men) + Number(AG_Men);
        $("#objWork_Total_Men").val(SUM);
        TextChangeTotalBGML();
    }

    function TextChangeWomen() {
        //TextChangeTotalBGML();
        var BG_M_L_Women = $("#objWork_BG_Mine_Loader_Women").val();
        if (BG_M_L_Women == "") {
            BG_M_L_Women = 0;
        }
        var BG_Other_Women = $("#objWork_BG_Other_Women").val();
        if (BG_Other_Women == "") {
            BG_Other_Women = 0;
        }
        var OC_M_L_Women = $("#objWork_OC_Mine_Loader_Women").val();
        if (OC_M_L_Women == "") {
            OC_M_L_Women = 0;
        }
        var OC_Other_Women = $("#objWork_OC_Other_Women").val();
        if (OC_Other_Women == "") {
            OC_Other_Women = 0;
        }
        var AG_Women = $("#objWork_AG_Women").val();
        if (AG_Women == "") {
            AG_Women = 0;
        }
        var SUM = Number(BG_M_L_Women) + Number(BG_Other_Women) + Number(OC_M_L_Women) + Number(OC_Other_Women) + Number(AG_Women);
        $("#objWork_Total_Women").val(SUM);
    }

    function TextChangeSickness() {
        var BG_Sickness = $("#objWork_BG_Sickness").val();
        if (BG_Sickness == "") {
            BG_Sickness = 0;
        }
        var BG_Other_Sickness = $("#objWork_BG_Other_Sickness").val();
        if (BG_Other_Sickness == "") {
            BG_Other_Sickness = 0;
        }
        var OC_M_L_Sickness = $("#objWork_OC_Sickness").val();
        if (OC_M_L_Sickness == "") {
            OC_M_L_Sickness = 0;
        }
        var OC_Other_Sickness = $("#objWork_OC_Other_Sickness").val();
        if (OC_Other_Sickness == "") {
            OC_Other_Sickness = 0;
        }
        var AG_Sickness = $("#objWork_AG_Sickness").val();
        if (AG_Sickness == "") {
            AG_Sickness = 0;
        }
        var SUM = Number(BG_Sickness) + Number(BG_Other_Sickness) + Number(OC_M_L_Sickness) + Number(OC_Other_Sickness) + Number(AG_Sickness);
        $("#objWork_Total_Sickness").val(SUM);
    }

    function TextChangeAccident() {
        var BG_Accident = $("#objWork_BG_Accident").val();
        if (BG_Accident == "") {
            BG_Accident = 0;
        }
        var BG_Other_Accident = $("#objWork_BG_Other_Accident").val();
        if (BG_Other_Accident == "") {
            BG_Other_Accident = 0;
        }
        var OC_Accident = $("#objWork_OC_Accident").val();
        if (OC_Accident == "") {
            OC_Accident = 0;
        }
        var OC_Other_Accident = $("#objWork_OC_Other_Accident").val();
        if (OC_Other_Accident == "") {
            OC_Other_Accident = 0;
        }
        var AG_Accident = $("#objWork_AG_Accident").val();
        if (AG_Accident == "") {
            AG_Accident = 0;
        }
        var SUM = Number(BG_Accident) + Number(BG_Other_Accident) + Number(OC_Accident) + Number(OC_Other_Accident) + Number(AG_Accident);
        $("#objWork_Total_Accident").val(SUM);
    }

    function TextChangLeave() {
        var BG_Leave = $("#objWork_BG_Leave").val();
        if (BG_Leave == "") {
            BG_Leave = 0;
        }
        var BG_Other_Leave = $("#objWork_BG_Other_Leave").val();
        if (BG_Other_Leave == "") {
            BG_Other_Leave = 0;
        }
        var OC_Leave = $("#objWork_OC_Leave").val();
        if (OC_Leave == "") {
            OC_Leave = 0;
        }
        var OC_Other_Leave = $("#objWork_OC_Other_Leave").val();
        if (OC_Other_Leave == "") {
            OC_Other_Leave = 0;
        }
        var AG_Leave = $("#objWork_AG_Leave").val();
        if (AG_Leave == "") {
            AG_Leave = 0;
        }
        var SUM = Number(BG_Leave) + Number(BG_Other_Leave) + Number(OC_Leave) + Number(OC_Other_Leave) + Number(AG_Leave);
        $("#objWork_Total_Leave").val(SUM);
    }

    function TextChangOtherCause() {
        var BG_OtherCause = $("#objWork_BG_OtherCause").val();
        if (BG_OtherCause == "") {
            BG_OtherCause = 0;
        }
        var BG_Other_OtherCause = $("#objWork_BG_Other_OtherCause").val();
        if (BG_Other_OtherCause == "") {
            BG_Other_OtherCause = 0;
        }
        var OC_OtherCause = $("#objWork_OC_OtherCause").val();
        if (OC_OtherCause == "") {
            OC_OtherCause = 0;
        }
        var OC_Other_OtherCause = $("#objWork_OC_Other_OtherCause").val();
        if (OC_Other_OtherCause == "") {
            OC_Other_OtherCause = 0;
        }
        var AG_OtherCause = $("#objWork_AG_OtherCause").val();
        if (AG_OtherCause == "") {
            AG_OtherCause = 0;
        }
        var SUM = Number(BG_OtherCause) + Number(BG_Other_OtherCause) + Number(OC_OtherCause) + Number(OC_Other_OtherCause) + Number(AG_OtherCause);
        $("#objWork_Total_OtherCause").val(SUM);
    }

    function TextChangeTotalBGML() {

        var BG_Sickness = $("#objWork_BG_Sickness").val();
        if (BG_Sickness == "") {
            BG_Sickness = 0;
        }
        var BG_Accident = $("#objWork_BG_Accident").val();
        if (BG_Accident == "") {
            BG_Accident = 0;
        }
        var BG_Leave = $("#objWork_BG_Leave").val();
        if (BG_Leave == "") {
            BG_Leave = 0;
        }
        var BG_OtherCause = $("#objWork_BG_OtherCause").val();
        if (BG_OtherCause == "") {
            BG_OtherCause = 0;
        }
        var SUM = Number(BG_Sickness) + Number(BG_Accident) + Number(BG_Leave) + Number(BG_OtherCause);
        $("#objWork_BG_Total").val(SUM);
    }

    function TextChangeTotalBGOther() {

        var BG_Other_Sickness = $("#objWork_BG_Other_Sickness").val();
        if (BG_Other_Sickness == "") {
            BG_Other_Sickness = 0;
        }
        var BG_Other_Accident = $("#objWork_BG_Other_Accident").val();
        if (BG_Other_Accident == "") {
            BG_Other_Accident = 0;
        }
        var BG_Other_Leave = $("#objWork_BG_Other_Leave").val();
        if (BG_Other_Leave == "") {
            BG_Other_Leave = 0;
        }
        var BG_Other_OtherCause = $("#objWork_BG_Other_OtherCause").val();
        if (BG_Other_OtherCause == "") {
            BG_Other_OtherCause = 0;
        }
        var SUM = Number(BG_Other_Sickness) + Number(BG_Other_Accident) + Number(BG_Other_Leave) + Number(BG_Other_OtherCause);
        $("#objWork_BG_Other_Total").val(SUM);
    }

    function TextChangeTotalOCML() {

        var OC_Sickness = $("#objWork_OC_Sickness").val();
        if (OC_Sickness == "") {
            OC_Sickness = 0;
        }
        var OC_Accident = $("#objWork_OC_Accident").val();
        if (OC_Accident == "") {
            OC_Accident = 0;
        }
        var OC_Leave = $("#objWork_OC_Leave").val();
        if (OC_Leave == "") {
            OC_Leave = 0;
        }
        var OC_OtherCause = $("#objWork_OC_OtherCause").val();
        if (OC_OtherCause == "") {
            OC_OtherCause = 0;
        }
        var SUM = Number(OC_Sickness) + Number(OC_Accident) + Number(OC_Leave) + Number(OC_OtherCause);
        $("#objWork_OC_Total").val(SUM);
    }

    function TextChangeTotalOCOther() {

        var OC_Other_Sickness = $("#objWork_OC_Other_Sickness").val();
        if (OC_Other_Sickness == "") {
            OC_Other_Sickness = 0;
        }
        var OC_Other_Accident = $("#objWork_OC_Other_Accident").val();
        if (OC_Other_Accident == "") {
            OC_Other_Accident = 0;
        }
        var OC_Other_Leave = $("#objWork_OC_Other_Leave").val();
        if (OC_Other_Leave == "") {
            OC_Other_Leave = 0;
        }
        var OC_Other_OtherCause = $("#objWork_OC_Other_OtherCause").val();
        if (OC_Other_OtherCause == "") {
            OC_Other_OtherCause = 0;
        }
        var SUM = Number(OC_Other_Sickness) + Number(OC_Other_Accident) + Number(OC_Other_Leave) + Number(OC_Other_OtherCause);
        $("#objWork_OC_Other_Total").val(SUM);
    }

    function TextChangeTotalAboveground() {

        var AG_Sickness = $("#objWork_AG_Sickness").val();
        if (AG_Sickness == "") {
            AG_Sickness = 0;
        }
        var AG_Accident = $("#objWork_AG_Accident").val();
        if (AG_Accident == "") {
            AG_Accident = 0;
        }
        var AG_Leave = $("#objWork_AG_Leave").val();
        if (AG_Leave == "") {
            AG_Leave = 0;
        }
        var AG_OtherCause = $("#objWork_AG_OtherCause").val();
        if (AG_OtherCause == "") {
            AG_OtherCause = 0;
        }
        var SUM = Number(AG_Sickness) + Number(AG_Accident) + Number(AG_Leave) + Number(AG_OtherCause);
        $("#objWork_AG_Total").val(SUM);
    }

    function TextChangeTotal() {

        var BG_Total = $("#objWork_BG_Total").val();
        if (BG_Total == "") {
            BG_Total = 0;
        }
        var BG_Other_Total = $("#objWork_BG_Other_Total").val();
        if (BG_Other_Total == "") {
            BG_Other_Total = 0;
        }
        var OC_Total = $("#objWork_OC_Total").val();
        if (OC_Total == "") {
            OC_Total = 0;
        }
        var OC_Other_Total = $("#objWork_OC_Other_Total").val();
        if (OC_Other_Total == "") {
            OC_Other_Total = 0;
        }
        var AG_Total = $("#objWork_AG_Total").val();
        if (AG_Total == "") {
            AG_Total = 0;
        }

        var SUM = Number(BG_Total) + Number(BG_Other_Total) + Number(OC_Total) + Number(OC_Other_Total) + Number(AG_Total);
        $("#objWork_Total_All").val(SUM);
    }
    //------------------------------------------------------------

    $("#objWork_BG_Mine_Loader_Men").on("change", function () {
        TextChangeMen();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_Men").on("change", function () {
        TextChangeMen();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });

    $("#objWork_OC_Mine_Loader_Men").on("change", function () {
        TextChangeMen();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_Men").on("change", function () {
        TextChangeMen();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_Men").on("change", function () {
        TextChangeMen();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });

    //-----------------------------------------------------------

    $("#objWork_BG_Mine_Loader_Women").on("change", function () {
        TextChangeWomen();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_Women").on("change", function () {
        TextChangeWomen();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });


    $("#objWork_OC_Mine_Loader_Women").on("change", function () {
        TextChangeWomen();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_Women").on("change", function () {
        TextChangeWomen();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_Women").on("change", function () {
        TextChangeWomen();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });

    //-----------------------------------------------------------

    $("#objWork_BG_Sickness").on("change", function () {
        TextChangeSickness();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_Sickness").on("change", function () {
        TextChangeSickness();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });

    $("#objWork_OC_Sickness").on("change", function () {
        TextChangeSickness();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_Sickness").on("change", function () {
        TextChangeSickness();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_Sickness").on("change", function () {
        TextChangeSickness();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });
    //-----------------------------------------------------------

    $("#objWork_BG_Accident").on("change", function () {
        TextChangeAccident();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_Accident").on("change", function () {
        TextChangeAccident();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });

    $("#objWork_OC_Accident").on("change", function () {
        TextChangeAccident();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_Accident").on("change", function () {
        TextChangeAccident();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_Accident").on("change", function () {
        TextChangeAccident();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });

    //----------------------------------------------------------
    $("#objWork_BG_Leave").on("change", function () {
        TextChangLeave();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_Leave").on("change", function () {
        TextChangLeave();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });

    $("#objWork_OC_Leave").on("change", function () {
        TextChangLeave();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_Leave").on("change", function () {
        TextChangLeave();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_Leave").on("change", function () {
        TextChangLeave();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });

    //----------------------------------------------------------

    $("#objWork_BG_OtherCause").on("change", function () {
        TextChangOtherCause();
        TextChangeTotalBGML();
        TextChangeTotal();
    });

    $("#objWork_BG_Other_OtherCause").on("change", function () {
        TextChangOtherCause();
        TextChangeTotalBGOther();
        TextChangeTotal();
    });

    $("#objWork_objWork_OC_OtherCause").on("change", function () {
        TextChangOtherCause();
        TextChangeTotalOCML();
        TextChangeTotal();
    });

    $("#objWork_OC_Other_OtherCause").on("change", function () {
        TextChangOtherCause();
        TextChangeTotalOCOther();
        TextChangeTotal();
    });

    $("#objWork_AG_OtherCause").on("change", function () {
        TextChangOtherCause();
        TextChangeTotalAboveground();
        TextChangeTotal();
    });
    //-----------------------------------------------------------------Table C End Here-----------------------
    //-----------------------------------------------------------------Table D Start Here-------------------------

    function TextChangeBelowGroundOverMen() {
        var BG_OS_wages = $("#objEarn_BG_OS_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_BG_OS_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_BG_OS_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_BG_OS_Total").val(SUM);
    }
    //--------------------------------------------------------------------------------------

    function TextChangeBelowGroundML() {
        var BG_OS_wages = $("#objEarn_BG_ML_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_BG_ML_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_BG_ML_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_BG_ML_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeBelowGroundOthers() {
        var BG_OS_wages = $("#objEarn_BG_Other_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_BG_Other_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_BG_Other_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_BG_Other_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeOpencastOverMen() {
        var BG_OS_wages = $("#objEarn_OC_OS_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_OC_OS_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_OC_OS_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_OC_OS_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeOpencastML() {
        var BG_OS_wages = $("#objEarn_OC_ML_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_OC_ML_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_OC_ML_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_OC_ML_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeOpenCastOther() {
        var BG_OS_wages = $("#objEarn_OC_Other_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_OC_Other_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_OC_Other_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_OC_Other_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeAboveGround() {
        var BG_OS_wages = $("#objEarn_AG_CSS_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_AG_CSS_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_AG_CSS_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_AG_CSS_Total").val(SUM);
    }

    //--------------------------------------------------------------------------------------
    function TextChangeAboveGroundOthers() {
        var BG_OS_wages = $("#objEarn_AG_Other_Basic_wages").val();
        if (BG_OS_wages == "") {
            BG_OS_wages = 0;
        }
        var BG_OS_Dearness = $("#objEarn_AG_Other_Dearness_allowance").val();
        if (BG_OS_Dearness == "") {
            BG_OS_Dearness = 0;
        }
        var BG_OS_cash = $("#objEarn_AG_Other_cash").val();
        if (BG_OS_cash == "") {
            BG_OS_cash = 0;
        }

        var SUM = Number(BG_OS_wages) + Number(BG_OS_Dearness) + Number(BG_OS_cash);
        $("#objEarn_AG_Other_Total").val(SUM);
    }

    //---------------------------------------------Table D End Here---------------------------
    //---------Table D Update button--------------
    //---------Validation-------------------
    //All Validations
    function validateTableC() {
        var A1 = $("#objWork_BG_Mine_Loader_Men").val();
        var A2 = $("#objWork_BG_Mine_Loader_Women").val();
        var A3 = $("#objWork_BG_Sickness").val();
        var A4 = $("#objWork_BG_Accident").val();
        var A5 = $("#objWork_BG_Leave").val();
        var A6 = $("#objWork_BG_OtherCause").val();

        var B1 = $("#objWork_BG_Other_Men").val();
        var B2 = $("#objWork_BG_Other_Women").val();
        var B3 = $("#objWork_BG_Other_Sickness").val();
        var B4 = $("#objWork_BG_Other_Accident").val();
        var B5 = $("#objWork_BG_Other_Leave").val();
        var B6 = $("#objWork_BG_Other_OtherCause").val();

        var C1 = $("#objWork_OC_Mine_Loader_Men").val();
        var C2 = $("#objWork_OC_Mine_Loader_Women").val();
        var C3 = $("#objWork_OC_Mine_Sickness").val();
        var C4 = $("#objWork_OC_Mine_Accident").val();
        var C5 = $("#objWork_OC_Mine_Leave").val();
        var C6 = $("#objWork_OC_Mine_OtherCause").val();

        var D1 = $("#objWork_OC_Other_Men").val();
        var D2 = $("#objWork_OC_Other_Women").val();
        var D3 = $("#objWork_OC_Other_Sickness").val();
        var D4 = $("#objWork_OC_Other_Accident").val();
        var D5 = $("#objWork_OC_Other_Leave").val();
        var D6 = $("#objWork_OC_Other_OtherCause").val();

        var E1 = $("#objWork_AG_Men").val();
        var E2 = $("#objWork_AG_Women").val();
        var E3 = $("#objWork_AG_Sickness").val();
        var E4 = $("#objWork_AG_Accident").val();
        var E5 = $("#objWork_AG_Leave").val();
        var E6 = $("#objWork_AG_OtherCause").val();

        if ($('#objWork_Belowground_on_str').val() == "") {
            swal('','Please select workings belowground on');
            $('input[name="objWork.Belowground_on_str"]').focus();
            return false;
        }
        else if ($('#objWork_Mine_on_str').val() == "") {
            swal('','Please select all in the mine on');
            $('input[name="objWork.Mine_on_str"]').focus();
            return false;
        }
        else if ($("#objWork_Belowground_No_Employee").val() == "") {
            swal('',"Please enter no of Belowground employee.");
            $('input[name="objWork.Belowground_No_Employee"]').focus();
            return false;
        }
        else if ($("#objWork_Mine_No_Employee").val() == "") {
            swal('',"Please enter no of Mine employee.");
            $('input[name="objWork.Mine_No_Employee"]').focus();
            return false;
        }
        else if (A1 == "" && B1 == "" && C1 == "" && D1 == "" && E1 == "") {
            swal('','Atleast one Aggregate number of mandays worked (b)(c) should be filled');
            return false;
        }

        var BG_TableC_Flag = true;
        var OC_TableC_Flag = true;
        var AG_TableC_Flag = true;

        //If count becomes 27 means above flag becomes true and form will be validate
        var BG_TableC_Count = 0;
        var OC_TableC_Count = 0;
        var AG_TableC_Count = 0;
        //var txtbox = document.querySelectorAll(".BG,.OC,.AG");
        var BG_TableC = document.getElementsByClassName('BG_TableC');
        var OC_TableC = document.getElementsByClassName('OC_TableC');
        var AG_TableC = document.getElementsByClassName('AG_TableC');

        for (var i = 0; i < BG_TableC.length; i++) {
            if (parseInt(BG_TableC[i].value) > 0) {
                BG_TableC_Flag = false;
                BG_TableC_Count += 1;
            }
            if (BG_TableC_Count == BG_TableC.length) {
                BG_TableC_Flag = true;
            }
            if (parseInt(OC_TableC[i].value) > 0) {
                OC_TableC_Flag = false;
                OC_TableC_Count += 1;
            }
            if (OC_TableC_Count == OC_TableC.length) {
                OC_TableC_Flag = true;
            }
        }
        for (var i = 0; i < AG_TableC.length; i++) {
            if (parseInt(AG_TableC[i].value) > 0) {
                AG_TableC_Flag = false;
                AG_TableC_Count += 1;
            }
            if (AG_TableC_Count == AG_TableC.length) {
                AG_TableC_Flag = true;
            }
        }
        if (BG_TableC_Flag == false) {
            for (var i = 0; i < BG_TableC.length; i++) {
                if (BG_TableC[i].value == "") {
                    $(BG_TableC[i]).focus();
                    swal('','This fields is required.')
                    return false;
                }
            }
        }
        else if (OC_TableC_Flag == false) {
            for (var i = 0; i < OC_TableC.length; i++) {
                if (OC_TableC[i].value == "") {
                    $(OC_TableC[i]).focus();
                    swal('','This fields is required.')
                    return false;
                }
            }
        }
        else if (AG_TableC_Flag == false) {
            for (var i = 0; i < AG_TableC.length; i++) {
                if (AG_TableC[i].value == "") {
                    $(AG_TableC[i]).focus();
                    swal('','This fields is required.')
                    return false;
                }
            }
        }
        else {
            return true;
        }


    }

    function validateTableD() {
        debugger
        var A1 = $("#objEarn_BG_OS_Average_att").val();
        var A2 = $("#objEarn_BG_OS_Aggregate_No").val();
        var A3 = $("#objEarn_BG_OS_Basic_wages").val();
        var A4 = $("#objEarn_BG_OS_Dearness_allowance").val();
        var A5 = $("#objEarn_BG_OS_cash").val()

        var B1 = $("#objEarn_BG_ML_Average_att").val();
        var B2 = $("#objEarn_BG_ML_Aggregate_No").val();
        var B3 = $("#objEarn_BG_ML_Basic_wages").val();
        var B4 = $("#objEarn_BG_ML_Dearness_allowance").val();
        var B5 = $("#objEarn_BG_ML_cash").val();

        var C1 = $("#objEarn_BG_Other_Average_att").val();
        var C2 = $("#objEarn_BG_Other_Aggregate_No").val();
        var C3 = $("#objEarn_BG_Other_Basic_wages").val();
        var C4 = $("#objEarn_BG_Other_Dearness_allowance").val();
        var C5 = $("#objEarn_BG_Other_cash").val();

        var D1 = $("#objEarn_OC_OS_Average_att").val();
        var D2 = $("#objEarn_OC_OS_Aggregate_No").val();
        var D3 = $("#objEarn_OC_OS_Basic_wages").val();
        var D4 = $("#objEarn_OC_OS_Dearness_allowance").val();
        var D5 = $("#objEarn_OC_OS_cash").val();

        var E1 = $("#objEarn_OC_ML_Average_att").val();
        var E2 = $("#objEarn_OC_ML_Aggregate_No").val();
        var E3 = $("#objEarn_OC_ML_Basic_wages").val();
        var E4 = $("#objEarn_OC_ML_Dearness_allowance").val();
        var E5 = $("#objEarn_OC_ML_cash").val();

        var F1 = $("#objEarn_OC_Other_Average_att").val();
        var F2 = $("#objEarn_OC_Other_Aggregate_No").val();
        var F3 = $("#objEarn_OC_Other_Basic_wages").val();
        var F4 = $("#objEarn_OC_Other_Dearness_allowance").val();
        var F5 = $("#objEarn_OC_Other_cash").val();

        var G1 = $("#objEarn_AG_CSS_Average_att").val();
        var G2 = $("#objEarn_AG_CSS_Aggregate_No").val();
        var G3 = $("#objEarn_AG_CSS_Basic_wages").val();
        var G4 = $("#objEarn_AG_CSS_Dearness_allowance").val();
        var G5 = $("#objEarn_AG_CSS_cash").val();

        var H1 = $("#objEarn_AG_Other_Average_att").val();
        var H2 = $("#objEarn_AG_Other_Aggregate_No").val();
        var H3 = $("#objEarn_AG_Other_Basic_wages").val();
        var H4 = $("#objEarn_AG_Other_Dearness_allowance").val();
        var H5 = $("#objEarn_AG_Other_cash").val();

        if (A1 == "" && B1 == "" && C1 == "" && D1 == "" && E1 == "" && F1 == "" && H1 == "") {
            swal('','Atleast one Average daily attendance during the week should be filled');
            return false;
        }
        else if ($("#objEarn_Total_Estimated_Value").val() == "") {
            swal('','Please enter total estimated value of concessions.');
            $('input[name="objEarn.Total_Estimated_Value"]').focus()
            return false;
        }
        else if ($("#objEarn_Normal_hrs_production_shifts").val() == "") {
            swal('','Please enter normal hours of production shifts.');
            $('input[name="objEarn.Normal_hrs_production_shifts"]').focus()
            return false;
        }
        else {
            var BG_TableD_Flag = true;
            var OC_TableD_Flag = true;
            var AG_TableD_Flag = true;

            //If count becomes 27 means above flag becomes true and form will be validate
            var BG_TableD_Count = 0;
            var OC_TableD_Count = 0;
            var AG_TableD_Count = 0;
            //var txtbox = document.querySelectorAll(".BG,.OC,.AG");
            var BG_TableD = document.getElementsByClassName('BG_TableD');
            var OC_TableD = document.getElementsByClassName('OC_TableD');
            var AG_TableD = document.getElementsByClassName('AG_TableD');

            for (var i = 0; i < BG_TableD.length; i++) {
                if (parseInt(BG_TableD[i].value) > 0) {
                    BG_TableD_Flag = false;
                    BG_TableD_Count += 1;
                }
                if (BG_TableD_Count == BG_TableD.length) {
                    BG_TableD_Flag = true;
                }
                if (parseInt(OC_TableD[i].value) > 0) {
                    OC_TableD_Flag = false;
                    OC_TableD_Count += 1;
                }
                if (OC_TableD_Count == OC_TableD.length) {
                    OC_TableD_Flag = true;
                }
            }
            for (var i = 0; i < AG_TableD.length; i++) {
                if (parseInt(AG_TableD[i].value) > 0) {
                    AG_TableD_Flag = false;
                    AG_TableD_Count += 1;
                }

                if (AG_TableD_Count == AG_TableD.length) {
                    AG_TableD_Flag = true;
                }
            }
            if (BG_TableD_Flag == false) {
                for (var i = 0; i < BG_TableD.length; i++) {
                    if (BG_TableD[i].value == "") {
                        $(BG_TableD[i]).focus();
                        swal('','This fields is required.')
                        return false;
                    }
                }
            }
            else if (OC_TableD_Flag == false) {
                for (var i = 0; i < OC_TableD.length; i++) {
                    if (OC_TableD[i].value == "") {
                        $(OC_TableD[i]).focus();
                        swal('','This fields is required.')
                        return false;
                    }
                }
            }
            else if (AG_TableD_Flag == false) {
                for (var i = 0; i < AG_TableD.length; i++) {
                    if (AG_TableD[i].value == "") {
                        $(AG_TableD[i]).focus();
                        swal('','This fields is required.')
                        return false;
                    }
                }
            }
            else {
                return true;
            }
        }

    }

    //Mine Details Validation
    function OnSaveMines() {
        debugger
        if ($("#objMine_Certify").prop('checked') == false) {
            swal('','Please Checked Certify Statement!');
            $("#first-tab").click();
            $("#objMine_Certify").focus();
            return false;
        }
        else if ($("#objMine_Name_of_manager").val() == "") {
            swal('',"Please enter Name of manager.");
            $("#first-tab").click();
            $('input[name="objMine.Name_of_manager"]').focus()
            return false;
        }
        else if ($("#objMine_Address_of_manager").val() == "") {
            swal('',"Please enter Postal address of manager.");
            $("#first-tab").click();
            $('input[name="objMine.Address_of_manager"]').focus()
            return false;
        }

        else {
            $("#objMine_Flag").val(2);
            return true;

        }
    }

    //------------Validation End Here---------
    function OnUpdateMines() {
        if ($("#objMine_Certify").prop('checked') == false) {
            swal('','Please Checked Certify Statement!')
            $("#first-tab").click();
            $("#objMine_Certify").focus();
            return false;
        }
        else {
            $("#objMine_Flag").val(1);
            return true;
        }

    }

    function OnUpdate() {
        $("#objWork_Flag").val(1);
        return true;
        //$("#FrmII_TableC").submit();
    }

    function OnSave() {
        $("#objWork_Flag").val(2);
        return true;
    }

    //------------------Save Coal Return-------------
    function OnSaveEarn() {
        debugger;
        if (validateTableD() == false) {
            return false;
        }
        else if (OnSaveMines() == false) {
            $("#first-tab").click();
            return false;
        }
        else if (TableAGridCount == 0) {
            $("#second-tab").click();
            swal('','Please Add Table A data');
            return false;
        }
        else if (TableBGridCount == 0) {
            $("#third-tab").click();
            swal('','Please Add Table B data');
            return false;
        }
        else if (validateTableC() == false) {
            $("#four-tab").click();
            return false;
        }

        else if (OnSave() == false) {
            return false;
        }
        else {
            $("#objMine_Flag").val(2).trigger("change");
            $("#objWork_Flag").val(2);
            $("#objEarn_Flag").val(2);
            $("#FrmII_TableD").submit();
        }
    }
    //---------------------------------------------------
    //----------------Update Coal Return---------------
    function OnUpdateEarn() {
        debugger;
        if (validateTableD() == false) {
            return false;
        }
        else if (OnUpdateMines() == false) {

            return false;
        }
        else if (TableAGridCount == 0) {
            $("#second-tab").click();
            swal('','Please add Table A data');
            return false;
        }
        else if (TableBGridCount == 0) {
            $("#third-tab").click();
            swal('','Please add Table b data');
            return false;
        }
        else if (validateTableC() == false) {
            $("#four-tab").click();
            return false;
        }

        else if (OnUpdate() == false) {
            return false;
        }
        else {
            $("#objEarn_Flag").val(1);
            $("#FrmII_TableD").submit();
        }
    }
    //-------------------------------------
    //--------------Final Submission Coal Return------------------
    function OnSubmit() {
        debugger;
        if (validateTableD() == false) {
            return false;
        }
        else if (OnUpdateMines() == false) {
            $("#first-tab").click();
            return false;
        }
        else if (TableAGridCount == 0) {
            $("#second-tab").click();
            swal('','Please add Table A data');
            return false;
        }
        else if (TableBGridCount == 0) {
            $("#third-tab").click();
            swal('','Please add Table b data');
            return false;
        }
        else if (validateTableC() == false) {
            $("#four-tab").click();
            return false;
        }
        else if (OnUpdate() == false) {
            return false;
        }
        else {
            $("#objEarn_Flag").val(1);
            if ($("#Month_Year").val() == "") {
                swal('','Please Select Month_Year!')
                return false;
            }

            else {


                $.ajax({
                    type: "GET",
                    url: "/EReturnCoal/EReturnCoal/GetCoalMonthlyForPrint",
                    data: { 'MonthYear': $('#Month_Year').val(), 'UserId': 150 },
                    dataType: "json",
                    success: function (result) {
                        debugger;
                        if (result != null && result.length > 0) {

                            $.ajax({
                                type: "GET",
                                url: "/EReturnCoal/EReturnCoal/GetMACHINERYMonthlyForPrint",
                                data: { 'MonthYear': $('#Month_Year').val(), 'UserId': 150 },
                                dataType: "json",
                                success: function (data) {
                                    debugger;
                                    if (data != null && data.length > 0) {

                                        $.ajax({
                                            type: "GET",
                                            url: "/EReturnCoal/EReturnCoal/GetData",
                                            data: { 'Month_Year': $('#Month_Year').val(), 'UserId': 150 },
                                            dataType: "json",
                                            success: function (data1) {
                                                debugger;
                                                console.log(data1)
                                                if (data1.belowground_on != null && data1.belowground_on != "") {

                                                    if (confirm("Are you sure to final submission ?")) {
                                                        $("#objMine_SubmitFlag").val(1);
                                                        $("#FrmII_TableD").submit();
                                                    }
                                                    else {
                                                        return false;
                                                    }
                                                }
                                                else {
                                                    swal('',"TABLE C should be filled");
                                                    return false;
                                                }
                                            }
                                        });
                                    }
                                    else {
                                        swal('',"TABLE B should be filled");
                                        return false;
                                    }
                                }
                            });
                        }
                        else {
                            swal('',"TABLE A should be filled");
                            return false;
                        }
                    }
                })


            }
        }
    }

    //--------------------------------

</script>

