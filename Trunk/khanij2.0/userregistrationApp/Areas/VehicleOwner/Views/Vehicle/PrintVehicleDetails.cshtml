@*// *********************************************************************************************************
    //  View Name                : PrintVehicleDetails
    //  Desciption               : To Print Vehicle Details
    //  Created By               : Akshaya Dalei
    //  Created On               : 25 July 2021
    // ********************************************************************************************************
*@

@{
    ViewBag.Title = "Print Vehicle Details";
    Layout = "~/Views/Shared/_CMSLayout.cshtml";
}
@model userregistrationEF.Vehicle
 
<section class="wrapper main-wrapper row">

    <div class="col-12">
        @Html.Partial("_CMSnavigation")
        <!-- MAIN CONTENT AREA STARTS -->
        <div class="row">
            <div class="col-12">
                <div class="main-tab">

                    @Html.Partial("_CMSutil")
                </div>

                <section class="box form-container">
                    <div class="content-body">

                        <div class="table-responsive" id="divPrint">
                            @Html.Hidden("Type")
                            <table id="tablePRint" style="border: 1px solid #dadada;width: 100%;">
                                <tr>
                                    <td style="border: 1px solid #ddd; padding: 10px;">
                                        <img id="imgLogo" src="/CMSimg/govt-logo.png" style="height: 100px; width: 100px; margin: 0 auto; display: block;" alt="LOGO">
                                        <br>
                                        <h2 style="text-align: center;">GOVERNMENT OF CHHATTISGARH</h2>

                                        <h4 style="text-align: center;">MINERAL RESOURCES DEPARTMENT</h4> 
                                    </td>
                                </tr>
                            </table>
                            <table id="tablePRint2" style="border: 1px solid #dadada;width: 100%;">
                                <tbody>

                                    <tr>
                                        <td colspan="2" style="border: 1px solid #ddd; padding: 10px; text-align: center;">
                                            <span id="spnFormNumber" class="lead Certificate" style="display: none;">Form: 19 (<span class="hindifont Certificate">iz:i &19</span>)</span>

                                            <br />
                                            <span class="lead Certificate">See Rele 17(3) (<span class="hindifont Certificate">¼nsf[k;s fu;e 17¼3½½</span>)</span>
                                            <br />

                                            <span class="lead" id="ApplicatinoForm">Vehicle Registration Form (<span id="ApplicatinoForm2" class=" hindifont">¼[kfut ifjogu djus okys okgu dk iath;u iz:i½</span>)</span>
                                            <br />

                                            <span class="lead Certificate"> Vehicle Registration Form (<span class="Certificate hindifont">¼okgu iath;u iz:i½</span>)</span>

                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;"><strong>Date and Time : </strong>@DateTime.Now.ToString() </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span class="Certificate">
                                                <strong> Registration No. : </strong>@Model.RegistrationNumber
                                            </span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="50%" style="border: 1px solid #ddd; padding: 10px;">
                                            <span>Vehicle Type (Trailer/Haiwa/Truck/Tractor/Other)</span>
                                            <br />
                                            <span class="hindifont">okgu dk izdkj ¼Vªsyj@gkbZok@Vªd@VªsDVj@vU;½</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;" colspan="3">@Model.VehicleTypeName</td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>Vehicle Number</span>
                                            <br />
                                            <span class="hindifont">okgu uacj</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            @Model.VehicleNumber
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>Vehicle Carrying Capacity(Metric Tone) </span>
                                            <br />
                                            <span class="hindifont">okgu {kerk ¼esfVªd Vu½</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>@Model.CarryingCapacity (@Model.CarryingCapacity_UnitName)</span>
                                        </td>

                                    </tr>


                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>Vehicle Tare Weight </span>
                                            <br />
                                            <span class="hindifont">okgu dk Vs;j osV</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">@Model.MaxNetWeight (@Model.UnitName)</td>

                                    </tr>

                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>Vehicle Validity </span>
                                            <br />
                                            <span class="hindifont">okgu oS/krk</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">@Model.VehicleValidFromDate To  @Model.VehicleValidToDate</td>

                                    </tr>

                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>GPS Enabled? (Yes/No) </span>
                                            <br />
                                            <span class="hindifont">thih,l ;qDr ¼gka@ugha½</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">@Model.IsGPSDeviceOrNot</td>

                                    </tr>


                                    <tr>
                                        <td style="border: 1px solid #ddd; padding: 10px;">
                                            <span>GPS Device IMEI No.(for GPS enabled Vehicle) </span>
                                            <br />
                                            <span class="hindifont">thih,l fMokbZl vkbZ,ebZvkbZ ¼IMEI½ uacj ¼dsoy thih,l ;qDr okguksa ds fy,½</span>
                                        </td>
                                        <td style="border: 1px solid #ddd; padding: 10px;">@Model.GPSID</td>

                                    </tr>
                                     
                                    <tr>
                                        <td colspan="2" style="border: 1px solid #ddd; padding: 10px;">
                                            <span class="hindifont">?kks"k.kk &  eSa ;g ?kks"k.kk djrk gwWa fd Åij nh xbZ leLr tkudkjh esjh tkudkjh ,oa fo'okl ds vuqlkj lR; gSA eq>s Kkr gS fd mDr dksbZ tkudkjh xyr vFkok vlR; ik;s tkus ij mi;qDr fu;eksa ds rgr~ tqekZuk@n.M gks ldrk gSA</span><br />
                                            <span style="color: red;" class="hindifont">
                                                vLohdj.k & [kfut lk/ku foHkkx mi;qZDr fdlh Hkh tkudkjh dh izekf.kdrk ds fy, mRrjnk;h ugha gksxkA
                                            </span>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="2" style="border: 1px solid #ddd; padding: 10px;">
                                            <label>
                                                <i id="Cer">This is a system generated certificate. So physical signature is not required. </i>
                                                <i id="Frm">This is a system generated form. So physical signature is not required. </i>
                                            </label>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        loadNavigation('Vehicle', 'ql', 'pl', 'tl', 'Vehicle', 'Print Vehicle Details', ' ');
        debugger;
        // var m = new Date();
        //$("#datetime").text(m.getDate() + " - " + m.getMonth() + " - " + m.getFullYear() + " " + m.getHours() + " : " + m.getMinutes());
        var type = $('#Type').val();
        if (type == 'Form') {
            $(".Certificate").hide();
            $("#Cer").hide();
            getFormPDF();
        }
        else {
            $("#ApplicatinoForm").hide();
            $("#ApplicatinoForm2").hide();
            $(".Certificate").show();
            $("#Frm").hide();
            $("#Cer").show();
            getCeftificatePDF();
        }
    });
    function getCeftificatePDF() {
        debugger;
        $("#ApplicatinoForm").hide();
        $("#ApplicatinoForm2").hide();
        $(".Certificate").show();

        html2canvas($('#tablePRint')[0], {
            onrendered: function (canvas) {
                var data = canvas.toDataURL();
                var docDefinition = {
                    content: [{
                        image: data,
                        width: 500
                    }]
                };
                pdfMake.createPdf(docDefinition).download("VehicleCertificate.pdf");
            }
        });

    }

    function getFormPDF() {
        $(".Certificate").hide();
    }

</script>